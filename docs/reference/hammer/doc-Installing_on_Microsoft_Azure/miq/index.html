<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>ManageIQ</title>
  <meta name="description" content="">
  <meta property="og:image" content="http://manageiq.org/assets/images/logo/manageiq-logo-blue.png" />
  
  <link type="text/css" rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://manageiq.org/docs/reference/hammer/doc-Installing_on_Microsoft_Azure/miq/index">
  <link rel="alternate" type="application/rss+xml" title="ManageIQ" href="http://manageiq.org/feed.xml">

  <link href="/assets/images/favicon.ico" rel="shortcut icon">
</head>


  <body>
    <header class="site-header">
  <a href="/" class="brand">
    <span class="brand-name">ManageIQ</span>
    <img class="brand-logo" src="/assets/images/manageiq-logo-inverse.svg" alt="ManageIQ Logo">
  </a>

  <div id="site_header-nav_toggle">
    <a href="#" class="off_canvas-show" data-behavior="off_canvas-toggle">
      <i class="fa fa-bars"></i>
    </a>
  </div>

  <div class="off_canvas">
    <header class="off_canvas-header">
      <a href="#" class="off_canvas-hide" data-behavior="off_canvas-toggle">
        <i class="fa fa-times"></i>
      </a>
    </header>

    <ul class="site_nav">
  <li >
    <a href="/download/">Download</a>
  </li>
  <li >
    <a href="/docs/">Documentation</a>
  </li>
  <li >
    <a href="/community/">Community</a>
  </li>
  <li >
    <a href="/blog/">Blog</a>
  </li>
</ul>

  </div>
</header>


    <main data-url="/docs/reference/hammer/doc-Installing_on_Microsoft_Azure/miq/index">
      <nav class="doc_tabs">
  <ul>
  <li>
    <a href="/docs/get-started/">Get Started</a>
  </li>
  <li class="active">
    <a href="/docs/reference/">User Reference</a>
  </li>
  <li>
    <a href="/docs/automation">
      Automation Book
    </a>
  </li>
  <li>
    <a href="/docs/api">
      API Docs
    </a>
  </li>
  <li>
    <a href="/docs/guides/README">Developer Guides</a>
  </li>
</ul>

</nav>

<div class="doc_container">
  <div class="doc_menu">
    
    

<div class="doc_menu-heading">
  Hammer
</div>

<ul class="menu menu-toplevel" id=ref_menu_hammer>


  <li class="menu-parent">
    
    <a href="#">
      Installation
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/doc-Installing_on_Google_Compute_Engine/miq">
      Google Compute Engine
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item active">
    <a href="/docs/reference/hammer/doc-Installing_on_Microsoft_Azure/miq">
      Microsoft Azure
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/doc-Installing_on_Red_Hat_Enterprise_Linux_OpenStack_Platform/miq">
      Red Hat Enterprise Linux OpenStack Platform
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/doc-Installing_on_Red_Hat_Virtualization/miq">
      Red Hat Enterprise Virtualization
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Administration
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/doc-Monitoring_Alerts_and_Reporting/miq">
      Monitoring, Alerts, and Reporting
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/doc-Policies_and_Profiles_Guide/miq">
      Policies and Profiles Guide
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/doc-Managing_Infrastructure_and_Inventory/miq">
      Managing Infrastructure and Inventory
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/doc-Managing_Providers/miq">
      Managing Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/doc-Provisioning_Virtual_Machines_and_Hosts/miq">
      Provisioning Virtual Machines and Hosts
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/doc-Scripting_Actions/miq">
      Scripting Actions in ManageIQ
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Authentication
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/auth/active_directory">
      Active Directory
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/auth/ipa_2fa">
      2-Factor-Authentication with IPA
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/auth/ipa_ad_trust">
      IPA/AD Trust
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/auth/ldap">
      LDAP
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/auth/saml">
      SAML
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/auth/openid_connect">
      OpenID-Connect
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Integration
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/doc-Integration_with_AWS_CloudFormation_and_OpenStack_Heat/miq">
      AWS CloudFormation and OpenStack Heat
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/doc-Integration_with_ServiceNow/miq">
      ServiceNow
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Reference
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/doc-REST_API/miq">
      ManageIQ REST API
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/hammer/doc-Methods_Available_for_Automation/miq">
      Methods Available for Automation
    </a>
    
  </li>


      </ul>
    
  </li>

</ul>

    
  </div>
  <div class="doc_main">
    <article class="doc user_doc">
      

      <div class="doc-content">
        
        <div class="doc-versions">
          <span class="label">Versions: </span>
          
          <span>
            <a href="/docs/reference/euwe/doc-Installing_on_Microsoft_Azure/miq/index.html">
              Euwe
            </a>
          </span>
          <span class="separator">/</span>
          
          <span>
            <a href="/docs/reference/fine/doc-Installing_on_Microsoft_Azure/miq/index.html">
              Fine
            </a>
          </span>
          <span class="separator">/</span>
          
          <span>
            <a href="/docs/reference/gaprindashvili/doc-Installing_on_Microsoft_Azure/miq/index.html">
              Gaprindashvili
            </a>
          </span>
          <span class="separator">/</span>
          
          <span class="active" >
            <a href="/docs/reference/hammer/doc-Installing_on_Microsoft_Azure/miq/index.html">
              Hammer
            </a>
          </span>
          <span class="separator">/</span>
          
          <span>
            <a href="/docs/reference/ivanchuk/doc-Installing_on_Microsoft_Azure/miq/index.html">
              Ivanchuk
            </a>
          </span>
          <span class="separator">/</span>
          
          <span>
            <a href="/docs/reference/latest/doc-Installing_on_Microsoft_Azure/miq/index.html">
              Latest
            </a>
          </span>
          <span class="separator">/</span>
          
        </div>
        
        <div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#installing-cloudforms">1. Installing ManageIQ</a>
<ul class="sectlevel2">
<li><a href="#obtaining-the-appliance">1.1. Obtaining the ManageIQ Virtual Appliance</a></li>
<li><a href="#uploading-the-appliance-to-microsoft-azure">1.2. Uploading and Provisioning the ManageIQ Virtual Appliance in Microsoft Azure</a>
<ul class="sectlevel3">
<li><a href="#converting-aligning-cfme-appliance-image">1.2.1. Converting and Aligning the ManageIQ Virtual Appliance Image</a></li>
<li><a href="#uploading-the-appliance-using-azure-powershell-script">1.2.2. Using the Azure PowerShell Script</a></li>
<li><a href="#uploading-the-appliance-using-azure-cli">1.2.3. Using the Azure Command-Line Interface</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#enabling-ui-access">2. Enabling ManageIQ User Interface Access</a></li>
<li><a href="#Configuring-cloudforms">3. Configuring ManageIQ</a>
<ul class="sectlevel2">
<li><a href="#accessing-appliance-console">3.1. Accessing the Appliance Console</a></li>
<li><a href="#configuring_a_database">3.2. Configuring a Database</a>
<ul class="sectlevel3">
<li><a href="#configuring-an-internal-database">3.2.1. Configuring an Internal Database</a></li>
<li><a href="#configuring-an-external-database">3.2.2. Configuring an External Database</a></li>
</ul>
</li>
<li><a href="#configuring-a-worker-appliance">3.3. Configuring a Worker Appliance</a></li>
</ul>
</li>
<li><a href="#Initial_Login">4. Logging In After Installing ManageIQ</a>
<ul class="sectlevel2">
<li><a href="#changing-the-default-login-password">4.1. Changing the Default Login Password</a></li>
</ul>
</li>
<li><a href="#appendix">Appendix A: Appendix</a>
<ul class="sectlevel2">
<li><a href="#appliance-console-cli">A.1. Appliance Console Command-Line Interface (CLI)</a></li>
<li><a href="#storage-sku-types">A.2. Storage SKU Types</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="installing-cloudforms"><a class="anchor" href="#installing-cloudforms"></a>1. Installing ManageIQ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Installing ManageIQ consists of the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Downloading the appliance for your environment as a virtual machine image template.</p>
</li>
<li>
<p>Setting up a virtual machine based on the appliance.</p>
</li>
<li>
<p>Configuring the ManageIQ appliance.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>After you have completed all the procedures in this guide, you will have a working environment on which additional customizations and configurations can be performed.</p>
</div>
<div class="sect2">
<h3 id="obtaining-the-appliance"><a class="anchor" href="#obtaining-the-appliance"></a>1.1. Obtaining the ManageIQ Virtual Appliance</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In a browser, navigate to <a href="manageiq.org/download" class="bare">manageiq.org/download</a>.</p>
</li>
<li>
<p>Select <strong>Microsoft Azure</strong> from the <strong>--Choose your platform--</strong> list.</p>
</li>
<li>
<p>Select <strong>Stable</strong> from the <strong>--Choose a release--</strong> list.</p>
</li>
<li>
<p>Follow the instructions to download the appliance.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="uploading-the-appliance-to-microsoft-azure"><a class="anchor" href="#uploading-the-appliance-to-microsoft-azure"></a>1.2. Uploading and Provisioning the ManageIQ Virtual Appliance in Microsoft Azure</h3>
<div class="paragraph">
<p>You can upload and provision the appliance in an Azure environment using the following two methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Using the Azure PowerShell script</p>
</li>
<li>
<p>Using the Azure Command-Line Interface (Azure CLI)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To upload the ManageIQ appliance file in Microsoft Azure, ensure the following requirements are met:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Approximately 2 GB of space for each VHD image; 44+ GB of space, 12 GB RAM, and 4 VCPUs for the ManageIQ appliance.</p>
</li>
<li>
<p><a href="https://azure.microsoft.com/en-us/free/">Microsoft Azure Account</a>.</p>
</li>
<li>
<p>Administrator access to the Azure portal.</p>
</li>
<li>
<p>Depending on your infrastructure, allow time for the upload.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Azure requires that the uploaded Virtual Hard Disk (VHD) files are in a fixed format. The ManageIQ virtual appliance image VHD file is dynamic by default. Currently, the Azure Powershell script and Azure CLI do not automatically convert the dynamic VHD file to fixed during upload. To upload using either method, the ManageIQ virtual appliance image VHD file must be first converted from dynamic to fixed, and properly aligned to the nearest 1 MB boundary. Once converted and properly aligned, you can then upload the appliance virtual image VHD file using either the Azure PowerShell or Azure CLI method.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="converting-aligning-cfme-appliance-image"><a class="anchor" href="#converting-aligning-cfme-appliance-image"></a>1.2.1. Converting and Aligning the ManageIQ Virtual Appliance Image</h4>
<div class="paragraph">
<p>Complete the following procedure to ensure the ManageIQ dynamic .vhd file is properly aligned to the nearest 1 MB boundary, and is in a fixed-size VHD format.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Convert the dynamic VHD file you downloaded in <a href="#obtaining-the-appliance">Obtaining the ManageIQ Virtual Appliance</a> to RAW format.</p>
<div class="listingblock">
<div class="content">
<pre>$ qemu-img convert -f vpc -O raw &lt;image-name.vhd&gt; &lt;image-name.raw&gt;

Example:

$ qemu-img convert -f vpc -O raw example.vhd rexample.raw</pre>
</div>
</div>
</li>
<li>
<p>Copy and paste the script below into a new bash shell script file, for example, <code>aligned-size.sh</code>. Change <em>rawdisk="image-name"</em> to the image name for your file. This script will calculate the rounded file size to the nearest 1 MB boundary.</p>
<div class="listingblock">
<div class="content">
<pre>#!/bin/bash
rawdisk="example.raw"
MB=$((1024 * 1024))
size=$(qemu-img info -f raw --output json "$rawdisk" | gawk 'match($0, /"virtual-size": ([0-9]+),/, val) {print val[1]}')
rounded_size=$((($size/$MB + 1) * $MB))
echo "rounded size = $rounded_size"
export rounded_size</pre>
</div>
</div>
</li>
<li>
<p>Run the shell script. The file name <code>aligned-size.sh</code> is used in this example.</p>
<div class="listingblock">
<div class="content">
<pre>$ sh aligned-size.sh

rounded size = 34361835520</pre>
</div>
</div>
</li>
<li>
<p>Resize the virtual appliance image using the rounded size.</p>
<div class="listingblock">
<div class="content">
<pre>$ qemu-img resize -f raw &lt;image-name.raw&gt; &lt;rounded_size&gt;

Example:

$ qemu-img resize -f raw example.raw 34361835520

Image resized.</pre>
</div>
</div>
</li>
<li>
<p>Convert the appliance image to a fixed-size VHD file.</p>
<div class="listingblock">
<div class="content">
<pre>$ qemu-img convert -f raw -o subformat=fixed -O vpc &lt;image-name.raw&gt; &lt;image-name.vhd&gt;

Example:

qemu-img convert -f raw -o subformat=fixed -O vpc example.raw example.vhd</pre>
</div>
</div>
</li>
<li>
<p>Get the virtual size for the VHD file.</p>
<div class="listingblock">
<div class="content">
<pre>$ qemu-img info --output=json -f vpc &lt;path-to-image&gt;

Example:

$ qemu-img info --output=json -f vpc example.vhd

{
  "virtual-size": 34361835520,
  "filename": "example.vhd",
  "cluster-size": 2097152,
  "format": "vpc",
  "actual-size": 2133401600,
  "dirty-flag": false
}</pre>
</div>
</div>
</li>
<li>
<p>Divide the virtual-size value by 1024, twice. If the result is a whole number, the VHD file is aligned properly. The example below shows that the file is properly aligned.</p>
<div class="listingblock">
<div class="content">
<pre>34361835520 / 1024 / 1024 = 32770</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>qemu-img version 1.5.3 is used in this procedure. Check the qemu-img version using the command: <code>yum info qemu-img</code>. If the version is 2.2.1 or later, add the option <em>force_size</em> in the conversion command, for example, <em>subformat=fixed,force_size</em>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The ManageIQ Azure virtual appliance image is ready for uploading and provisioning in Microsoft Azure.</p>
</div>
</div>
<div class="sect3">
<h4 id="uploading-the-appliance-using-azure-powershell-script"><a class="anchor" href="#uploading-the-appliance-using-azure-powershell-script"></a>1.2.2. Using the Azure PowerShell Script</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Make sure Azure Resource Manager cmdlets are available; see <a href="https://msdn.microsoft.com/en-us/library/mt125356.aspx">Azure Resource Manager Cmdlets</a> for the latest installation information.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log in to <strong>Azure Resource Manager</strong> using the cmdlet:</p>
<div class="listingblock">
<div class="content">
<pre>## Customize for Your Environment
$SubscriptionName = "my subscription"

Login-AzureRmAccount
Select-AzureRmSubscription -SubscriptionName $SubscriptionName</pre>
</div>
</div>
<div class="paragraph">
<p>When prompted, enter your user name and password for the Azure Portal.</p>
</div>
</li>
<li>
<p>Upload the VHD file to a storage account. As shown in the example script below, you will first create a <strong>Resource Group</strong> through the Portal UI or PowerShell. Additionally, create the storage container defined in "BlobDestinationContainer" in advance.</p>
<div class="listingblock">
<div class="content">
<pre>Example Script:

## Customize for Your Environment
$SubscriptionName = "my subscription"

$ResourceGroupName = "test"
$StorageAccountName = "test"

$BlobNameSource = "example.vhd"
$BlobSourceContainer = "templates"
$LocalImagePath = "C:\tmp\$BlobNameSource"

##

# Upload VHD to a "templates" directory. You can pass a few arguments, such as `NumberOfUploaderThreads 8`. The default number of uploader threads is `8`. See https://msdn.microsoft.com/en-us/library/mt603554.aspx

Add-AzureRmVhd -ResourceGroupName $ResourceGroupName -Destination https://$StorageAccountName.blob.core.windows.net/$BlobSourceContainer/$BlobNameSource -LocalFilePath $LocalImagePath -NumberOfUploaderThreads 8</pre>
</div>
</div>
</li>
<li>
<p>Create a virtual machine. Then, define your VM and VHD name, your system/deployment name and size. Next, you will set the appropriate Storage, Network and Configuration options for your environment.</p>
<div class="listingblock">
<div class="content">
<pre>Example Script:

## Customize for Your Environment

$BlobNameDest = "example.vhd"
$BlobDestinationContainer = "vhds"
$VMName = "example"
$DeploySize= "Standard_A3"
$vmUserName = "user1"

$InterfaceName = "test-nic"
$VNetName = "test-vnet"
$PublicIPName = "test-public-ip"

$SSHKey = &lt;your ssh public key&gt;

##

$StorageAccount = Get-AzureRmStorageAccount -ResourceGroup $ResourceGroupName -Name $StorageAccountName

$SourceImageUri = "https://$StorageAccountName.blob.core.windows.net/templates/$BlobNameSource"
$Location = $StorageAccount.Location
$OSDiskName = $VMName

# Network
$Subnet1Name = "default"
$VNetAddressPrefix = "10.1.0.0/16"
$VNetSubnetAddressPrefix = "10.1.0.0/24"
$PIp = New-AzureRmPublicIpAddress -Name $PublicIPName -ResourceGroupName $ResourceGroupName -Location $Location -AllocationMethod Dynamic -Force
$SubnetConfig = New-AzureRmVirtualNetworkSubnetConfig -Name $Subnet1Name -AddressPrefix $VNetSubnetAddressPrefix
$VNet = New-AzureRmVirtualNetwork -Name $VNetName -ResourceGroupName $ResourceGroupName -Location $Location -AddressPrefix $VNetAddressPrefix -Subnet $SubnetConfig -Force
$Interface = New-AzureRmNetworkInterface -Name $InterfaceName -ResourceGroupName $ResourceGroupName -Location $Location -SubnetId $VNet.Subnets[0].Id -PublicIpAddressId $PIp.Id -Force

# Specify the VM Name and Size
$VirtualMachine = New-AzureRmVMConfig -VMName $VMName -VMSize $DeploySize

# Add User
$cred = Get-Credential -UserName $VMUserName -Message "Setting user credential - use blank password"
$VirtualMachine = Set-AzureRmVMOperatingSystem -VM $VirtualMachine -Linux -ComputerName $VMName -Credential $cred

# Add NIC
$VirtualMachine = Add-AzureRmVMNetworkInterface -VM $VirtualMachine -Id $Interface.Id

# Add Disk
$OSDiskUri = $StorageAccount.PrimaryEndpoints.Blob.ToString() + $BlobDestinationContainer + "/" + $BlobNameDest

$VirtualMachine = Set-AzureRmVMOSDisk -VM $VirtualMachine -Name $OSDiskName -VhdUri $OSDiskUri -CreateOption fromImage -SourceImageUri $SourceImageUri -Linux

# Set SSH key
Add-AzureRmVMSshPublicKey -VM $VirtualMachine -Path “/home/$VMUserName/.ssh/authorized_keys” -KeyData $SSHKey

# Create the VM
New-AzureRmVM -ResourceGroupName $ResourceGroupName -Location $Location -VM $VirtualMachine</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>These are the procedural steps as of the time of writing. For more information, see the following Azure documentation.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://azure.microsoft.com/en-us/documentation/articles/powershell-azure-resource-manager" class="bare">https://azure.microsoft.com/en-us/documentation/articles/powershell-azure-resource-manager</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The steps covered in the following article are for a Windows machine, however, most of the items are common between Windows and Linux.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-windows-create-powershell" class="bare">https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-windows-create-powershell</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="uploading-the-appliance-using-azure-cli"><a class="anchor" href="#uploading-the-appliance-using-azure-cli"></a>1.2.3. Using the Azure Command-Line Interface</h4>
<div class="paragraph">
<p>Complete the following steps to upload and provision the ManageIQ virtual appliance using the Azure CLI.</p>
</div>
<div class="sect4">
<h5 id="installing-azure-cli"><a class="anchor" href="#installing-azure-cli"></a>Installing the Azure Command-Line Interface</h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For a complete Azure CLI 2.0 command reference, see <a href="https://docs.microsoft.com/en-us/cli/azure/?view=azure-cli-latest">Azure CLI 2.0: Command reference - az</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Import the Microsoft repository key.</p>
<div class="listingblock">
<div class="content">
<pre>$ sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc</pre>
</div>
</div>
</li>
<li>
<p>Create a local Azure CLI repository entry.</p>
<div class="listingblock">
<div class="content">
<pre>$ sudo sh -c 'echo -e "[azure-cli]\nname=Azure CLI\nbaseurl=https://packages.microsoft.com/yumrepos/azure-cli\nenabled=1\ngpgcheck=1\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc" &gt; /etc/yum.repos.d/azure-cli.repo'</pre>
</div>
</div>
</li>
<li>
<p>Update the yum package index.</p>
<div class="listingblock">
<div class="content">
<pre>$ yum check-update</pre>
</div>
</div>
</li>
<li>
<p>Install the Azure CLI.</p>
<div class="listingblock">
<div class="content">
<pre>$ sudo yum install azure-cli</pre>
</div>
</div>
</li>
<li>
<p>Log in to Azure.</p>
<div class="listingblock">
<div class="content">
<pre>$ az login

Example:

To sign in, use a web browser to open the page https://aka.ms/devicelogin and enter the code GJP8Y33XY to authenticate.

[
  {
    "cloudName": "AzureCloud",
    "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
    "isDefault": true,
    "name": "Demo Azure account",
    "state": "Enabled",
    "tenantId": "xxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
    "user": {
      "name": "clouduser",
      "type": "user"
    }
  }
]</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="creating-resources-in-azure-cli"><a class="anchor" href="#creating-resources-in-azure-cli"></a>Creating Resources for the Appliance in Microsoft Azure Using the Azure Command-Line Interface</h5>
<div class="paragraph">
<p>Complete the following steps to create resources in Microsoft Azure using the Azure CLI.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>If you already have resources you can use, you can skip this section and go directly to <a href="#uploading-provisioning-appliance-using-azure-cli">Uploading and Provisioning the ManageIQ Virtual Appliance Using the Azure Command-Line Interface</a>.</p>
</li>
<li>
<p>For a complete Azure CLI 2.0 command reference, see <a href="https://docs.microsoft.com/en-us/cli/azure/?view=azure-cli-latest">Azure CLI 2.0: Command reference - az</a>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a resource group in an Azure region.</p>
<div class="listingblock">
<div class="content">
<pre>$ az group create --name &lt;resource-group&gt; --location &lt;azure-region&gt;

Example:

[clouduser@localhost]$ az group create --name azrhelclirsgrp --location southcentralus
{
  "id": "/subscriptions//resourceGroups/azrhelclirsgrp",
  "location": "southcentralus",
  "managedBy": null,
  "name": "azrhelclirsgrp",
  "properties": {
    "provisioningState": "Succeeded"
  },
  "tags": null
}</pre>
</div>
</div>
</li>
<li>
<p>Create a storage account; see <a href="#storage-sku-types">SKU type descriptions</a>.</p>
<div class="listingblock">
<div class="content">
<pre>$ az storage account create -l &lt;azure-region&gt; -n &lt;storage-account-name&gt; -g &lt;resource-group --sku &lt;sku_type&gt;

Example:

[clouduser@localhost]$ az storage account create -l southcentralus -n azrhelclistact -g azrhelclirsgrp --sku Standard_LRS
{
  "accessTier": null,
  "creationTime": "2017-04-05T19:10:29.855470+00:00",
  "customDomain": null,
  "encryption": null,
  "id": "/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Storage/storageAccounts/azrhelclistact",
  "kind": "Storage",
  "lastGeoFailoverTime": null,
  "location": "southcentralus",
  "name": "azrhelclistact",
  "primaryEndpoints": {
    "blob": "https://azrhelclistact.blob.core.windows.net/",
    "file": "https://azrhelclistact.file.core.windows.net/",
    "queue": "https://azrhelclistact.queue.core.windows.net/",
    "table": "https://azrhelclistact.table.core.windows.net/"
},
"primaryLocation": "southcentralus",
"provisioningState": "Succeeded",
"resourceGroup": "azrhelclirsgrp",
"secondaryEndpoints": null,
"secondaryLocation": null,
"sku": {
  "name": "Standard_LRS",
  "tier": "Standard"
},
"statusOfPrimary": "available",
"statusOfSecondary": null,
"tags": {},
  "type": "Microsoft.Storage/storageAccounts"
}</pre>
</div>
</div>
</li>
<li>
<p>Get the storage account connection string.</p>
<div class="listingblock">
<div class="content">
<pre>$ az storage account show-connection-string -n &lt;storage-account-name&gt; -g &lt;resource-group&gt;

Example:

[clouduser@localhost]$ az storage account show-connection-string -n azrhelclistact -g azrhelclirsgrp
{
  "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=azrhelclistact;AccountKey=NreGk...=="
}</pre>
</div>
</div>
</li>
<li>
<p>Export the connection string. Copy the connection string and paste it into the following command. This connects your system to the storage account.</p>
<div class="listingblock">
<div class="content">
<pre>$ export AZURE_STORAGE_CONNECTION_STRING="&lt;storage-connection-string&gt;"

Example:

[clouduser@localhost]$ export AZURE_STORAGE_CONNECTION_STRING="DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=azrhelclistact;AccountKey=NreGk...=="</pre>
</div>
</div>
</li>
<li>
<p>Create the storage container.</p>
<div class="listingblock">
<div class="content">
<pre>$ az storage container create -n &lt;container-name&gt;

Example:

[clouduser@localhost]$ az storage container create -n azrhelclistcont
{
  "created": true
}</pre>
</div>
</div>
</li>
<li>
<p>Create a virtual network.</p>
<div class="listingblock">
<div class="content">
<pre>$ az network vnet create -g &lt;resource group&gt; --name &lt;vnet-name&gt; --subnet-name &lt;subnet-name&gt;

Example:

[clouduser@localhost]$ az network vnet create --resource-group azrhelclirsgrp --name azrhelclivnet1 --subnet-name azrhelclisubnet1
{
  "newVNet": {
    "addressSpace": {
      "addressPrefixes": [
      "10.0.0.0/16"
      ]
  },
  "dhcpOptions": {
    "dnsServers": []
  },
  "etag": "W/\"\"",
  "id": "/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Network/virtualNetworks/azrhelclivnet1",
  "location": "southcentralus",
  "name": "azrhelclivnet1",
  "provisioningState": "Succeeded",
  "resourceGroup": "azrhelclirsgrp",
  "resourceGuid": "0f25efee-e2a6-4abe-a4e9-817061ee1e79",
  "subnets": [
    {
      "addressPrefix": "10.0.0.0/24",
      "etag": "W/\"\"",
      "id": "/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Network/virtualNetworks/azrhelclivnet1/subnets/azrhelclisubnet1",
      "ipConfigurations": null,
      "name": "azrhelclisubnet1",
      "networkSecurityGroup": null,
      "provisioningState": "Succeeded",
      "resourceGroup": "azrhelclirsgrp",
      "resourceNavigationLinks": null,
      "routeTable": null
    }
  ],
  "tags": {},
  "type": "Microsoft.Network/virtualNetworks",
  "virtualNetworkPeerings": null
  }
}</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="uploading-provisioning-appliance-using-azure-cli"><a class="anchor" href="#uploading-provisioning-appliance-using-azure-cli"></a>Uploading and Provisioning the ManageIQ Virtual Appliance Using the Azure Command-Line Interface</h5>
<div class="paragraph">
<p>You can now upload and provision the appliance in an Azure environment using the Azure Command-Line Interface (Azure CLI).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Upload the image to the storage container. It may take several minutes. Note: Enter <code>az storage container list</code> to get the list of storage containers.</p>
<div class="listingblock">
<div class="content">
<pre>$ az storage blob upload --account-name &lt;storage-account-name&gt; --container-name &lt;container-name&gt; --type page --file &lt;path-to-vhd&gt; --name &lt;image-name&gt;.vhd

Example:

$ az storage blob upload --account-name azrhelclistact --container-name azrhelclistcont --type page --file example.vhd --name example.vhd

Finished[#############################################################]  100.0000%</pre>
</div>
</div>
</li>
<li>
<p>Get the URL for the uploaded VHD file using the following command. You will need to use this URL in the next step.</p>
<div class="listingblock">
<div class="content">
<pre>$ az storage blob url -c &lt;container-name&gt; -n &lt;image-name&gt;.vhd

Example:

$ az storage blob url -c azrhelclistcont -n example.vhd

"https://azrhelclistact.blob.core.windows.net/azrhelclistcont/example.vhd"</pre>
</div>
</div>
</li>
<li>
<p>Create a reusable image from a blob and then use a managed disk.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Example:

$ az image create -n &lt;image-name&gt; -g &lt;miq-appliance-group&gt; --os-type &lt;linux&gt; --source &lt;https://miqstorageaccount.blob.core.windows.net/miqstoragecontainer/example.vhd&gt;</pre>
</div>
</div>
</li>
<li>
<p>Create the virtual machine. Note that the following command uses <code>--generate-ssh-keys</code>. In this example, the private/public key pair <code>/home/clouduser/.ssh/id_rsa</code> and <code>/home/clouduser/.ssh/id_rsa.pub</code> are created.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ az vm create --resource-group &lt;resource-group&gt; --location &lt;azure-region&gt; --use-unmanaged-disk --name &lt;vm-name&gt; --storage-account &lt;storage-account-name&gt; --os-type linux --admin-username &lt;administrator-name&gt; --generate-ssh-keys --image &lt;URL&gt;

Example:

az vm create --resource-group azrhelclirsgrp --location southcentralus --use-unmanaged-disk --name miq-appliance-1 --storage-account azrhelclistact --os-type linux --admin-username clouduser --generate-ssh-keys --image https://azrhelclistact.blob.core.windows.net/azrhelclistcont/example.vhd

{
  "fqdns": "",
  "id": "/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Compute/virtualMachines/miq-appliance-1",
  "location": "southcentralus",
  "macAddress": "00-0X-XX-XX-XX-XX",
  "powerState": "VM running",
  "privateIpAddress": "10.0.0.4",
  "publicIpAddress": "12.84.121.147",
  "resourceGroup": "azrhelclirsgrp"
}</pre>
</div>
</div>
<div class="paragraph">
<p>Make a note of the public IP address. You will need this to log in to the virtual machine in the next step.</p>
</div>
</li>
<li>
<p>Start an SSH session and log in to the appliance.</p>
<div class="listingblock">
<div class="content">
<pre>$ ssh -i &lt;path-to-ssh-key&gt; &lt;admin-username@public-IP-address&gt;

Example:

$ ssh  -i /home/clouduser/.ssh/id_rsa clouduser@12.84.121.147
The authenticity of host '12.84.121.147' can't be established.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '12.84.121.147' (ECDSA) to the list of known hosts.

Welcome to the Appliance Console

For a menu, please type: appliance_console</pre>
</div>
</div>
</li>
<li>
<p>Enter <code>sudo appliance_console</code> at the prompt. The summary screen appears.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You have successfully provisioned a ManageIQ virtual appliance in Microsoft Azure.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The exported storage connection string does not persist after a system reboot. If any of the commands in the above steps fail, export the storage connection string again using the following commands:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Get the storage account connection string.</p>
<div class="listingblock">
<div class="content">
<pre>$ az storage account show-connection-string -n &lt;storage-account-name&gt; -g &lt;resource-group&gt;

Example:

$ az storage account show-connection-string -n azrhelclistact -g azrhelclirsgrp
{
  "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=azrhelclistact;AccountKey=NreGk...=="
}</pre>
</div>
</div>
</li>
<li>
<p>Export the connection string. Copy the connection string and paste it into the following command. This connects your system to the storage account.</p>
<div class="listingblock">
<div class="content">
<pre>$ export AZURE_STORAGE_CONNECTION_STRING="&lt;storage-connection-string&gt;"

Example:

$ export AZURE_STORAGE_CONNECTION_STRING="DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=azrhelclistact;AccountKey=NreGk...=="</pre>
</div>
</div>
</li>
</ol>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Possible Next Steps:</div>
<ul>
<li>
<p>You will need to create a data disk for the database; see <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/add-disk" class="bare">https://docs.microsoft.com/en-us/azure/virtual-machines/linux/add-disk</a> for information about how to add a persistent disk to store your data.</p>
</li>
<li>
<p>See <a href="https://access.redhat.com/documentation/en-us/red_hat_cloudforms/4.5/html-single/deployment_planning_guide/#database-requirements">Database Requirements</a> for some general guidelines for your database requirements.</p>
</li>
<li>
<p>For information about Azure ports used by ManageIQ, see <a href="https://access.redhat.com/documentation/en-us/red_hat_cloudforms/4.5/html-single/appliance_hardening_guide/#chap_red_hat_cloudforms_security_guide_firewall" class="bare">https://access.redhat.com/documentation/en-us/red_hat_cloudforms/4.5/html-single/appliance_hardening_guide/#chap_red_hat_cloudforms_security_guide_firewall</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="enabling-ui-access"><a class="anchor" href="#enabling-ui-access"></a>2. Enabling ManageIQ User Interface Access</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To access the ManageIQ virtual appliance user interface, you need to enable access over ports <code>80</code> and <code>443</code> to the virtual machine. You can do this using the CLI or from within the Azure portal.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To enable a port using the CLI, enter <code>az vm open-port --port &lt;port-number&gt; --resource-group &lt;resource-group&gt; --name &lt;vm-name&gt;</code>.</p>
</li>
<li>
<p>To enable a port using the Microsoft Azure portal, open the properties for the resource group where the appliance is located, click on <strong>Network Security Group</strong>, and add HTTP and HTTPS access.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Configuring-cloudforms"><a class="anchor" href="#Configuring-cloudforms"></a>3. Configuring ManageIQ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After installing ManageIQ and running it for the first time, you must perform some basic configuration. To configure ManageIQ, you must at a minimum:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a disk to the infrastructure hosting your appliance.</p>
</li>
<li>
<p>Configure the database.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Configure the ManageIQ appliance using the internal appliance console.</p>
</div>
<div class="sect2">
<h3 id="accessing-appliance-console"><a class="anchor" href="#accessing-appliance-console"></a>3.1. Accessing the Appliance Console</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the appliance and open a terminal console.</p>
</li>
<li>
<p>Log in to the appliance using the SSH key.</p>
</li>
<li>
<p>Enter the <code>appliance_console</code> command. The ManageIQ appliance summary screen displays.</p>
</li>
<li>
<p>Press <code>Enter</code> to manually configure settings.</p>
</li>
<li>
<p>Press the number for the item you want to change, and press <code>Enter</code>. The options for your selection are displayed.</p>
</li>
<li>
<p>Follow the prompts to make the changes.</p>
</li>
<li>
<p>Press <code>Enter</code> to accept a setting where applicable.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The ManageIQ appliance console automatically logs out after five minutes of inactivity.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="configuring_a_database"><a class="anchor" href="#configuring_a_database"></a>3.2. Configuring a Database</h3>
<div class="paragraph">
<p>ManageIQ uses a database to store information about the environment. Before using ManageIQ, configure the database options for it; ManageIQ provides the following two options for database configuration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Install an internal PostgreSQL database to the appliance</p>
</li>
<li>
<p>Configure the appliance to use an external PostgreSQL database</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="configuring-an-internal-database"><a class="anchor" href="#configuring-an-internal-database"></a>3.2.1. Configuring an Internal Database</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Before installing an internal database, add a disk to the infrastructure hosting your appliance. See the documentation specific to your infrastructure for instructions for adding a disk. As a storage disk usually cannot be added while a virtual machine is running, Red Hat recommends adding the disk before starting the appliance. ManageIQ only supports installing of an internal VMDB on blank disks; installation will fail if the disks are not blank.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the appliance and open a terminal console.</p>
</li>
<li>
<p>Log in to the appliance using the SSH key.</p>
</li>
<li>
<p>Enter the <code>appliance_console</code> command. The ManageIQ appliance summary screen displays.</p>
</li>
<li>
<p>Press <strong>Enter</strong> to manually configure settings.</p>
</li>
<li>
<p>Select <strong>5) Configure Database</strong> from the menu.</p>
</li>
<li>
<p>You are prompted to create or fetch an encryption key.</p>
<div class="ulist">
<ul>
<li>
<p>If this is the first ManageIQ appliance, choose <strong>1) Create key</strong>.</p>
</li>
<li>
<p>If this is not the first ManageIQ appliance, choose <strong>2) Fetch key from remote machine</strong> to fetch the key from the first appliance. For worker and multi-region setups, use this option to copy key from another appliance.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All ManageIQ appliances in a multi-region deployment must use the same key.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Choose <strong>1) Create Internal Database</strong> for the database location.</p>
</li>
<li>
<p>Choose a disk for the database. This can be either a disk you attached previously, or a partition on the current disk.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Red Hat recommends using a separate disk for the database.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If there is an unpartitioned disk attached to the virtual machine, the dialog will show options similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1) /dev/vdb: 20480
2) Don't partition the disk</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Enter <strong>1</strong> to choose <code>/dev/vdb</code> for the database location. This option creates a logical volume using this device and mounts the volume to the appliance in a location appropriate for storing the database. The default location is <code>/var/opt/rh/rh-postgresql95/lib/pgsql</code>, which can be found in the environment variable <code>$APPLIANCE_PG_MOUNT_POINT</code>.</p>
</li>
<li>
<p>Enter <strong>2</strong> to continue without partitioning the disk. A second prompt will confirm this choice. Selecting this option results in using the root filesystem for the data directory (not advised in most cases).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enter <strong>Y</strong> or <strong>N</strong> for <strong>Should this appliance run as a standalone database server?</strong></p>
<div class="ulist">
<ul>
<li>
<p>Select <strong>Y</strong> to configure the appliance as a database-only appliance. As a result, the appliance is configured as a basic PostgreSQL server, without a user interface.</p>
</li>
<li>
<p>Select <strong>N</strong> to configure the appliance with the full administrative user interface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>When prompted, enter a unique number to create a new region.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Creating a new region destroys any existing data on the chosen database.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create and confirm a password for the database.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>ManageIQ then configures the internal database. This takes a few minutes. After the database is created and initialized, you can log in to ManageIQ.</p>
</div>
</div>
<div class="sect3">
<h4 id="configuring-an-external-database"><a class="anchor" href="#configuring-an-external-database"></a>3.2.2. Configuring an External Database</h4>
<div class="paragraph">
<p>Based on your setup, you will choose to configure the appliance to use an external PostgreSQL database. For example, we can only have one database in a single region. However, a region can be segmented into multiple zones, such as database zone, user interface zone, and reporting zone, where each zone provides a specific function. The appliances in these zones must be configured to use an external database.</p>
</div>
<div class="paragraph">
<p>The <code>postgresql.conf</code> file used with ManageIQ databases requires specific settings for correct operation. For example, it must correctly reclaim table space, control session timeouts, and format the PostgreSQL server log for improved system support. Due to these requirements, Red Hat recommends that external ManageIQ databases use a <code>postgresql.conf</code> file based on the standard file used by the ManageIQ appliance.</p>
</div>
<div class="paragraph">
<p>Ensure you configure the settings in the <code>postgresql.conf</code> to suit your system. For example, customize the <code>shared_buffers</code> setting according to the amount of real storage available in the external system hosting the PostgreSQL instance. In addition, depending on the aggregate number of appliances expected to connect to the PostgreSQL instance, it may be
necessary to alter the <code>max_connections</code> setting.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>ManageIQ 4.x requires PostgreSQL version 9.5.</p>
</li>
<li>
<p>Because the <code>postgresql.conf</code> file controls the operation of all databases managed by a single instance of PostgreSQL, do not mix ManageIQ databases with other types of databases in a single PostgreSQL instance.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the appliance and open a terminal console.</p>
</li>
<li>
<p>Log in to the appliance using the SSH key.</p>
</li>
<li>
<p>Enter the <code>appliance_console</code> command. The ManageIQ appliance summary screen displays.</p>
</li>
<li>
<p>Press <strong>Enter</strong> to manually configure settings.</p>
</li>
<li>
<p>Select <strong>5) Configure Database</strong> from the menu.</p>
</li>
<li>
<p>You are prompted to create or fetch a security key.</p>
<div class="ulist">
<ul>
<li>
<p>If this is the first ManageIQ appliance, choose <strong>1) Create key</strong>.</p>
</li>
<li>
<p>If this is not the first ManageIQ appliance, choose <strong>2) Fetch key from remote machine</strong> to fetch the key from the first appliance.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All ManageIQ appliances in a multi-region deployment must use the same key.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Choose <strong>2) Create Region in External Database</strong> for the database location.</p>
</li>
<li>
<p>Enter the database hostname or IP address when prompted.</p>
</li>
<li>
<p>Enter the database name or leave blank for the default (<code>vmdb_production</code>).</p>
</li>
<li>
<p>Enter the database username or leave blank for the default (<code>root</code>).</p>
</li>
<li>
<p>Enter the chosen database user&#8217;s password.</p>
</li>
<li>
<p>Confirm the configuration if prompted.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>ManageIQ will then configure the external database.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuring-a-worker-appliance"><a class="anchor" href="#configuring-a-worker-appliance"></a>3.3. Configuring a Worker Appliance</h3>
<div class="paragraph">
<p>You can use multiple appliances to facilitate horizontal scaling, as well as for dividing up work by roles. Accordingly, configure an appliance to handle work for one or many roles, with workers within the appliance carrying out the duties for which they are configured. You can configure a worker appliance through the terminal. The following steps demonstrate how to join a worker appliance to an appliance that already has a region configured with a database.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the appliance and open a terminal console.</p>
</li>
<li>
<p>Log in to the appliance using the SSH key.</p>
</li>
<li>
<p>Enter the <code>appliance_console</code> command. The ManageIQ appliance summary screen displays.</p>
</li>
<li>
<p>Press <strong>Enter</strong> to manually configure settings.</p>
</li>
<li>
<p>Select <strong>5) Configure Database</strong> from the menu.</p>
</li>
<li>
<p>You are prompted to create or fetch a security key. Since this is not the first ManageIQ appliance, choose <strong>2) Fetch key from remote machine</strong>. For worker and multi-region setups, use this option to copy the security key from another appliance.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All ManageIQ appliances in a multi-region deployment must use the same key.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Choose <strong>3) Join Region in External Database</strong> for the database location.</p>
</li>
<li>
<p>Enter the database hostname or IP address when prompted.</p>
</li>
<li>
<p>Enter the port number or leave blank for the default (<code>5432</code>).</p>
</li>
<li>
<p>Enter the database name or leave blank for the default (<code>vmdb_production</code>).</p>
</li>
<li>
<p>Enter the database username or leave blank for the default (<code>root</code>).</p>
</li>
<li>
<p>Enter the chosen database user&#8217;s password.</p>
</li>
<li>
<p>Confirm the configuration if prompted.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Initial_Login"><a class="anchor" href="#Initial_Login"></a>4. Logging In After Installing ManageIQ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once ManageIQ is installed, you can log in and perform administration tasks.</p>
</div>
<div class="paragraph">
<p>Log in to ManageIQ for the first time after installing by:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the URL for the login screen. (<a href="https://xx.xx.xx.xx" class="bare">https://xx.xx.xx.xx</a> on the virtual machine instance)</p>
</li>
<li>
<p>Enter the default credentials (Username: <strong>admin</strong> | Password: <strong>smartvm</strong>) for the initial login.</p>
</li>
<li>
<p>Click <strong>Login</strong>.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="changing-the-default-login-password"><a class="anchor" href="#changing-the-default-login-password"></a>4.1. Changing the Default Login Password</h3>
<div class="paragraph">
<p>Change your password to ensure more private and secure access to ManageIQ.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the URL for the login screen. (<a href="https://xx.xx.xx.xx" class="bare">https://xx.xx.xx.xx</a> on the virtual machine instance)</p>
</li>
<li>
<p>Click <strong>Update Password</strong> beneath the <strong>Username</strong> and <strong>Password</strong> text fields.</p>
</li>
<li>
<p>Enter your current <strong>Username</strong> and <strong>Password</strong> in the text fields.</p>
</li>
<li>
<p>Input a new password in the <strong>New Password</strong> field.</p>
</li>
<li>
<p>Repeat your new password in the <strong>Verify Password</strong> field.</p>
</li>
<li>
<p>Click <strong>Login</strong>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix"><a class="anchor" href="#appendix"></a>Appendix A: Appendix</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="appliance-console-cli"><a class="anchor" href="#appliance-console-cli"></a>A.1. Appliance Console Command-Line Interface (CLI)</h3>
<div class="paragraph">
<p>Currently, the <code>appliance_console_cli</code> feature is a subset of the full functionality of the <code>appliance_console</code> itself, and covers functions most likely to be scripted using the command-line interface (CLI).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>After starting the ManageIQ appliance, log in with a user name of <code>root</code> and the default password of <code>smartvm</code>. This displays the Bash prompt for the root user.</p>
</li>
<li>
<p>Enter the <code>appliance_console_cli</code> or <code>appliance_console_cli --help</code> command to see a list of options available with the command, or simply enter <code>appliance_console_cli --option &lt;argument&gt;</code> directly to use a specific option.</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Database Configuration Options</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--region (-r)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">region number (create a new region in the database - requires database credentials passed)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--internal (-i)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal database (create a database on the current appliance)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--dbdisk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">database disk device path (for configuring an internal database)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--hostname (-h)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">database hostname</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">database port (defaults to <code>5432</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--username (-U)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">database username (defaults to <code>root</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--password (-p)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">database password</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--dbname (-d)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">database name (defaults to <code>vmdb_production</code>)</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. v2_key Options</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--key (-k)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create a new v2_key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--fetch-key (-K)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fetch the v2_key from the given host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--force-key (-f)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create or fetch the key even if one exists</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sshlogin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ssh username for fetching the v2_key (defaults to <code>root</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sshpassword</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ssh password for fetching the v2_key</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. IPA Server Options</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--host (-H)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set the appliance hostname to the given name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--ipaserver (-e)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPA server FQDN</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--ipaprincipal (-n)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPA server principal (default: <code>admin</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--ipapassword (-w)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPA server password</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--ipadomain (-o)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPA server domain (optional). Will be based on the appliance domain name if not specified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--iparealm (-l)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPA server realm (optional). Will be based on the domain name of the ipaserver if not specified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--uninstall-ipa (-u)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uninstall IPA client</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>In order to configure authentication through an IPA server, in addition to using <strong>Configure External Authentication (httpd)</strong> in the <code>appliance_console</code>, external authentication can be optionally configured via the <code>appliance_console_cli</code> (command-line interface).</p>
</li>
<li>
<p>Specifying <strong>--host</strong> will update the hostname of the appliance. If this step was already performed via the <code>appliance_console</code> and the necessary updates made to <code>/etc/hosts</code> if DNS is not properly configured, the <strong>--host</strong> option can be omitted.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Certificate Options</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--ca (-c)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CA name used for certmonger (default: <code>ipa</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--postgres-client-cert (-g)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">install certs for postgres client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--postgres-server-cert</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">install certs for postgres server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--http-cert</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">install certs for http server (to create certs/httpd* values for a unique key)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--extauth-opts (-x)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">external authentication options</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The certificate options augment the functionality of the <code>certmonger</code> tool and enable creating a certificate signing request (CSR), and specifying <code>certmonger</code> the directories to store the keys.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Other Options</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--logdisk (-l)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">log disk path</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--tmpdisk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">initialize the given device for temp storage (volume mounted at <code>/var/www/miq_tmp</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--verbose (-v)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">print more debugging info</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Example Usage</div>
<div class="content">
<pre>$ ssh root@appliance.test.company.com</pre>
</div>
</div>
<div class="paragraph">
<p>To create a new database locally on the server using <code>/dev/sdb</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># appliance_console_cli --internal --dbdisk /dev/sdb --region 0 --password smartvm</pre>
</div>
</div>
<div class="paragraph">
<p>To copy the v2_key from a host <em>some.example.com</em> to local machine:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># appliance_console_cli --fetch-key some.example.com --sshlogin root --sshpassword smartvm</pre>
</div>
</div>
<div class="paragraph">
<p>You could combine the two to join a region where <em>db.example.com</em> is the appliance hosting the database:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># appliance_console_cli --fetch-key db.example.com --sshlogin root --sshpassword smartvm --hostname db.example.com --password mydatabasepassword</pre>
</div>
</div>
<div class="paragraph">
<p>To configure external authentication:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># appliance_console_cli --host appliance.test.company.com
                        --ipaserver ipaserver.test.company.com
                        --ipadomain test.company.com
                        --iparealm TEST.COMPANY.COM
                        --ipaprincipal admin
                        --ipapassword smartvm1</pre>
</div>
</div>
<div class="paragraph">
<p>To uninstall external authentication:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># appliance_console_cli  --uninstall-ipa</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="storage-sku-types"><a class="anchor" href="#storage-sku-types"></a>A.2. Storage SKU Types</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Storage SKU types</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">SKU Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard_LRS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Locally Redundant Storage: Synchronous copies of data are created within a single data center.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard_GRS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geographically Redundant Storage: Same as Standard_LRS with additional asynchronous copies stored in a secondary data center in a separate geographical location.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard_RAGRS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read-Access Geographically Redundant Storage: Same as Standard_GRS with additional read access to the secondary data center.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard_ZRS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone Redundant Storage: For block blobs only. Stores three copies of data across multiple data centers within the region or across regions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Premium_LRS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Premium Locally Redundant Storage: Same as Standard_LRS, but uses Premium Storage disks.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
      </div>
    </article>
  </div>
</div>

    </main>

    <footer class="site-footer">
  <div class="footer-row" id="footer_top">
    <div class="footer-group">
      <img class="footer-logo" src="/assets/images/manageiq-glyph-inverse.svg" alt="ManageIQ">
      <ul class="site_nav">
  <li >
    <a href="/download/">Download</a>
  </li>
  <li >
    <a href="/docs/">Documentation</a>
  </li>
  <li >
    <a href="/community/">Community</a>
  </li>
  <li >
    <a href="/blog/">Blog</a>
  </li>
</ul>

    </div>


    <ul class="contact_menu">
      <li>
        <a href="https://github.com/ManageIQ/">
          <i class="fa fa-github"></i>
          Github
        </a>
      </li>
      <li>
        <a href="https://gitter.im/ManageIQ/manageiq">
          <i class="fa fa-gitter">
            <svg viewBox="45 47 78 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 40.1 (33804) - http://www.bohemiancoding.com/sketch -->
    <desc>Created with Sketch.</desc>
    <defs></defs>
    <g id="Artboard" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(45.000000, 47.000000)">
        <g id="icon-gitter" transform="translate(10.000000, 0.000000)">
            <rect id="Rectangle-path" x="0" y="0.5" width="8.25" height="61"></rect>
            <rect id="Rectangle-path" x="49.75" y="14.5" width="8.25" height="47"></rect>
            <rect id="Rectangle-path" x="16.5" y="14.5" width="8.25" height="80.25"></rect>
            <rect id="Rectangle-path" x="33.25" y="14.5" width="8.25" height="80.25"></rect>
        </g>
    </g>
</svg>

          </i>
          Gitter
        </a>
      </li>
      <li>
        <a href="http://talk.manageiq.org/">
          <i class="fa fa-comments"></i>
          Forum
        </a>
      </li>
    </ul>
  </div>

  <div class="footer-row" id="footer_bottom">
    <div class="footer-legal">
      <span class="copyright">
        &copy; 2019 ManageIQ.
      </span>
      <span>
        <a href="http://community.redhat.com/software/" target="_blank">
          Sponsored by Red Hat, Inc.
        </a>
      </span>
      <span>
        <a href="/logo/" class="footer-link">Logo</a>
      </span>
      <span>
        <a href="/security/" class="footer-link">Security</a>
      </span>
      <span>
        <a href="/legal/" class="footer-link">Legal &amp; Privacy</a>
      </span>
    </div>

    <div class="footer-social">
      <ul class="social_menu">
        <li>
          <a href="https://twitter.com/ManageIQ" class="social_link social_link-twitter">
            <i class="fa fa-twitter"></i>
          </a>
        </li>

        <li>
          <a href="https://www.facebook.com/manageiq/" class="social_link social_link-facebook">
            <span class="social_link-icon">
              <i class="fa fa-facebook"></i>
            </span>
          </a>
        </li>

        <li>
          <a href="https://plus.google.com/+ManageiqOrg" class="social_link social_link-google_plus">
            <span class="social_link-icon">
              <i class="fa fa-google-plus"></i>
            </span>
          </a>
        </li>

        <!--  -->
        <li>
          <a href="https://www.linkedin.com/company/manageiq" class="social_link social_link-linkedin">
            <span class="social_link-icon">
              <i class="fa fa-linkedin"></i>
            </span>
          </a>
        </li>

        <li>
          <a href="https://www.youtube.com/user/ManageIQVideo" class="social_link social_link-youtube">
            <span class="social_link-icon">
              <i class="fa fa-youtube"></i>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</footer>

    <div id="lightbox">
  <header class="lightbox-header">
    <div class="lightbox-title"></div>
    <div class="lightbox-close">
      <span class="fa fa-times"></span>
    </div>
  </header>

  <div class="lightbox-image">
    <img src="" alt="">
  </div>
</div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="/assets/js/main.js" charset="utf-8"></script>
    
  </body>
</html>
