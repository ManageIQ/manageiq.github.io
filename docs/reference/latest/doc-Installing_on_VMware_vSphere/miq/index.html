<!DOCTYPE html>
<html>

  <head>
  <!DOCTYPE html>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>ManageIQ</title>
  <meta name="description" content="">
  <meta property="og:image" content="http://manageiq.org/assets/images/logo/manageiq-logo-blue.png" />
  
  <link type="text/css" rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://manageiq.org/docs/reference/latest/doc-Installing_on_VMware_vSphere/miq/index">
  <link rel="alternate" type="application/rss+xml" title="ManageIQ" href="http://manageiq.org/feed.xml">

  <link href="/assets/images/favicon.ico" rel="shortcut icon">
</head>


  <body>
    <header class="site-header">
  <a href="/" class="brand">
    <span class="brand-name">ManageIQ</span>
    <img class="brand-logo" src="/assets/images/manageiq-logo-inverse.svg" alt="ManageIQ Logo">
  </a>

  <div id="site_header-nav_toggle">
    <a href="#" class="off_canvas-show" data-behavior="off_canvas-toggle">
      <i class="fa fa-bars"></i>
    </a>
  </div>

  <div class="off_canvas">
    <header class="off_canvas-header">
      <a href="#" class="off_canvas-hide" data-behavior="off_canvas-toggle">
        <i class="fa fa-times"></i>
      </a>
    </header>

    <ul class="site_nav">
  <li >
    <a href="/download/">Download</a>
  </li>
  <li >
    <a href="/docs/">Documentation</a>
  </li>
  <li >
    <a href="/community/">Community</a>
  </li>
  <li >
    <a href="/blog/">Blog</a>
  </li>
</ul>

  </div>
</header>


    <main data-url="/docs/reference/latest/doc-Installing_on_VMware_vSphere/miq/index">
      <nav class="doc_tabs">
  <ul>
  <li>
    <a href="/docs/get-started/">Get Started</a>
  </li>
  <li class="active">
    <a href="/docs/reference/">User Reference</a>
  </li>
  <li>
    <a href="/docs/automation">
      Automation Book
    </a>
  </li>
  <li>
    <a href="/docs/api">
      API Docs
    </a>
  </li>
  <li>
    <a href="/docs/guides/README">Developer Guides</a>
  </li>
</ul>

    <div class="col-lg-4 col-md-4 col-sm-12 pull-right" style="margin-top: 10px">
        <script async src="https://cse.google.com/cse.js?cx=006042792541147862616:dfkijfebdts"></script>
         <div class="gcse-search"></div>
    </div>
</nav>

<script>
  window.onload = demo;
	function demo() {
	    document.getElementById("gsc-i-id1").setAttribute("placeholder", "Search Documentation")
	}
</script>

<div class="doc_container">
  <div class="doc_menu">
    
    

<div class="doc_menu-heading">
  Latest
</div>

<ul class="menu menu-toplevel" id=ref_menu_latest>


  <li class="menu-parent">
    
    <a href="#">
      Installation
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Installing_on_AWS/miq">
      Amazon Web Services (AWS)
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Installing_on_Microsoft_Azure/miq">
      Microsoft Azure
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Installing_on_Google_Compute_Engine/miq">
      Google Compute Engine
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item active">
    <a href="/docs/reference/latest/doc-Installing_on_VMware_vSphere/miq">
      VMware vSphere
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Installing_on_Red_Hat_Enterprise_Linux_OpenStack_Platform/miq">
      Red Hat Enterprise OpenStack Platform
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Installing_on_Red_Hat_Virtualization/miq">
      Red Hat Enterprise Virtualization
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Installing_on_SCVMM/miq">
      Microsoft System Center Virtual Machine Manager (SCVMM)
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Configuration
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Deployment_Planning_Guide/miq">
      Deployment Planning Guide
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-General_Configuration/miq">
      General Configuration
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-High_Availability_Guide/miq">
      High Availability Guide
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Appliance_Hardening_Guide/miq">
      Appliance Hardening Guide
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Administration
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Monitoring_Alerts_and_Reporting/miq">
      Monitoring, Alerts, and Reporting
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Policies_and_Profiles_Guide/miq">
      Policies and Profiles Guide
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Managing_Infrastructure_and_Inventory/miq">
      Managing Infrastructure and Inventory
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Managing_Providers/miq">
      Managing Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Provisioning_Virtual_Machines_and_Hosts/miq">
      Provisioning Virtual Machines and Hosts
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Scripting_Actions/miq">
      Scripting Actions in ManageIQ
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Authentication
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/auth/active_directory">
      Active Directory
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/auth/ipa_2fa">
      2-Factor-Authentication with IPA
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/auth/ipa_ad_trust">
      IPA/AD Trust
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/auth/ldap">
      LDAP
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/auth/saml">
      SAML
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/auth/openid_connect">
      OpenID-Connect
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Integration
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Integration_with_AWS_CloudFormation_and_OpenStack_Heat/miq">
      AWS CloudFormation and OpenStack Heat
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Integration_with_ServiceNow/miq">
      ServiceNow
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Reference
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-REST_API/miq">
      ManageIQ REST API
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/doc-Methods_Available_for_Automation/miq">
      Methods Available for Automation
    </a>
    
  </li>


      </ul>
    
  </li>

</ul>

    
  </div>
  <div class="doc_main">
    <article class="doc user_doc">
      

      <div class="doc-content">
        
        <div class="doc-versions">
          <span class="label">Versions: </span>
          
          <span class="active" >
            <a href="/docs/reference/latest/doc-Installing_on_VMware_vSphere/miq/index.html">
              Latest
            </a>
          </span>
          <span class="separator">/</span>
          
        </div>
        
        <div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#installing-cloudforms">1. Installing ManageIQ</a>
<ul class="sectlevel2">
<li><a href="#obtaining-the-appliance">1.1. Obtaining the appliance</a></li>
<li><a href="#uploading-the-appliance-on-vmware-vsphere">1.2. Uploading the Appliance on VMware vSphere</a></li>
</ul>
</li>
<li><a href="#Configuring-cloudforms">2. Configuring ManageIQ</a>
<ul class="sectlevel2">
<li><a href="#accessing-appliance-console">2.1. Accessing the Appliance Console</a></li>
<li><a href="#configuring_a_database">2.2. Configuring a Database</a>
<ul class="sectlevel3">
<li><a href="#configuring-an-internal-database">2.2.1. Configuring an Internal Database</a></li>
<li><a href="#configuring-an-external-database">2.2.2. Configuring an External Database</a></li>
</ul>
</li>
<li><a href="#configuring-a-worker-appliance">2.3. Configuring a Worker Appliance</a></li>
</ul>
</li>
<li><a href="#additional-configuration-vmware">3. Additional Configuration for Appliances on VMware vSphere</a>
<ul class="sectlevel2">
<li><a href="#installing-vmware-vddk">3.1. Installing VMware VDDK on ManageIQ</a></li>
<li><a href="#appliance-tuning-vmware">3.2. Tuning Appliance Performance</a></li>
</ul>
</li>
<li><a href="#initial-login">4. Logging In After Installing ManageIQ</a>
<ul class="sectlevel2">
<li><a href="#changing-the-default-login-password">4.1. Changing the Default Login Password</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="installing-cloudforms"><a class="anchor" href="#installing-cloudforms"></a>1. Installing ManageIQ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Installing ManageIQ consists of the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Downloading the appliance for your environment as a virtual machine image template.</p>
</li>
<li>
<p>Setting up a virtual machine based on the appliance.</p>
</li>
<li>
<p>Configuring the ManageIQ appliance.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>After you have completed all the procedures in this guide, you will have a working environment on which additional customizations and configurations can be performed.</p>
</div>
<div class="sect2">
<h3 id="obtaining-the-appliance"><a class="anchor" href="#obtaining-the-appliance"></a>1.1. Obtaining the appliance</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In a browser, navigate to <a href="https://www.manageiq.org/download" class="bare">https://www.manageiq.org/download</a>.</p>
</li>
<li>
<p>Find the table with the relevant type of release.</p>
</li>
<li>
<p>Click <strong>VMware vSphere</strong> from the list to download the appliance image.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="uploading-the-appliance-on-vmware-vsphere"><a class="anchor" href="#uploading-the-appliance-on-vmware-vsphere"></a>1.2. Uploading the Appliance on VMware vSphere</h3>
<div class="paragraph">
<p>Uploading the ManageIQ appliance file onto VMware vSphere systems has the following requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>44 GB of space on the chosen vSphere datastore.</p>
</li>
<li>
<p>12 GB RAM.</p>
</li>
<li>
<p>4 VCPUs.</p>
</li>
<li>
<p>Administrator access to the vSphere Client.</p>
</li>
<li>
<p>Depending on your infrastructure, allow time for the upload.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>These are the procedural steps as of the time of writing. For more information, consult the VMware documentation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Use the following procedure to upload the ManageIQ appliance OVF template from your local file system using the vSphere Client.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the vSphere Client, select <span class="menuseq"><b class="menu">File</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Deploy OVF Template</b></span>. The Deploy OVF Template wizard appears.</p>
</li>
<li>
<p>Specify the source location and click <strong>Next</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Select <strong>Deploy from File</strong> to browse your file system for the OVF template, for example <code>manageiq-vsphere-ivanchuk-4.ova</code>.</p>
</li>
<li>
<p>Select <strong>Deploy from URL</strong> to specify a URL to an OVF template located on the internet.</p>
</li>
</ul>
</div>
</li>
<li>
<p>View the <strong>OVF Template Details</strong> page and click <strong>Next</strong>.</p>
</li>
<li>
<p>Select the deployment configuration from the drop-down menu and click <strong>Next</strong>. The option selected typically controls the memory settings, number of CPUs and reservations, and application-level configuration parameters.</p>
</li>
<li>
<p>Select the host or cluster on which you want to deploy the OVF template and click <strong>Next</strong>.</p>
</li>
<li>
<p>Select the host on which you want to run the run the ManageIQ appliance, and click <strong>Next</strong>.</p>
</li>
<li>
<p>Navigate to, and select the resource pool where you want to run the ManageIQ appliance and click <strong>Next</strong>.</p>
</li>
<li>
<p>Select a datastore to store the deployed ManageIQ appliance, and click Next. Ensure to select a datastore large enough to accommodate the virtual machine and all of its virtual disk files.</p>
</li>
<li>
<p>Select the disk format to store the virtual machine virtual disks, and click <strong>Next</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Select <strong>Thin Provisioned</strong> if the storage is allocated on demand as data is written to the virtual disks.</p>
</li>
<li>
<p>Select <strong>Thick Provisioned</strong> if all storage is immediately allocated.</p>
</li>
</ul>
</div>
</li>
<li>
<p>For each network specified in the OVF template, select a network by right-clicking the <strong>Destination Network</strong> column in your infrastructure to set up the network mapping and click <strong>Next</strong>.</p>
</li>
<li>
<p>The <strong>IP Allocation</strong> page does not require any configuration changes. Leave the default settings in the <strong>IP Allocation</strong> page and click <strong>Next</strong>.</p>
</li>
<li>
<p>Set the user-configurable properties and click <strong>Next</strong>. The properties to enter depend on the selected IP allocation scheme. For example, you are prompted for IP related information for the deployed virtual machines only in the case of a fixed IP allocation scheme.</p>
</li>
<li>
<p>Review your settings and click <strong>Finish</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The progress of the import task appears in the vSphere Client Status panel.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Configuring-cloudforms"><a class="anchor" href="#Configuring-cloudforms"></a>2. Configuring ManageIQ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After installing ManageIQ and running it for the first time, you must perform some basic configuration. To configure ManageIQ, you must at a minimum:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a disk to the infrastructure hosting your appliance.</p>
</li>
<li>
<p>Configure the database.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Configure the ManageIQ appliance using the internal appliance console.</p>
</div>
<div class="sect2">
<h3 id="accessing-appliance-console"><a class="anchor" href="#accessing-appliance-console"></a>2.1. Accessing the Appliance Console</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the appliance and open a terminal console.</p>
</li>
<li>
<p>After starting the appliance, log in with a user name of <code>root</code> and the default password of <code>smartvm</code>. This displays the Bash prompt for the <code>root</code> user.</p>
</li>
<li>
<p>Enter the <code>appliance_console</code> command. The ManageIQ appliance summary screen displays.</p>
</li>
<li>
<p>Press <code>Enter</code> to manually configure settings.</p>
</li>
<li>
<p>Press the number for the item you want to change, and press <code>Enter</code>. The options for your selection are displayed.</p>
</li>
<li>
<p>Follow the prompts to make the changes.</p>
</li>
<li>
<p>Press <code>Enter</code> to accept a setting where applicable.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The ManageIQ appliance console automatically logs out after five minutes of inactivity.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="configuring_a_database"><a class="anchor" href="#configuring_a_database"></a>2.2. Configuring a Database</h3>
<div class="paragraph">
<p>ManageIQ uses a database to store information about the environment. Before using ManageIQ, configure the database options for it; ManageIQ provides the following two options for database configuration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Install an internal PostgreSQL database to the appliance</p>
</li>
<li>
<p>Configure the appliance to use an external PostgreSQL database</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="configuring-an-internal-database"><a class="anchor" href="#configuring-an-internal-database"></a>2.2.1. Configuring an Internal Database</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Before installing an internal database, add a disk to the infrastructure hosting your appliance. See the documentation specific to your infrastructure for instructions for adding a disk. As a storage disk usually cannot be added while a virtual machine is running, Red Hat recommends adding the disk before starting the appliance. ManageIQ only supports installing of an internal VMDB on blank disks; installation will fail if the disks are not blank.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the appliance and open a terminal console.</p>
</li>
<li>
<p>After starting the appliance, log in with a user name of <code>root</code> and the default password of <code>smartvm</code>. This displays the Bash prompt for the <code>root</code> user.</p>
</li>
<li>
<p>Enter the <code>appliance_console</code> command. The ManageIQ appliance summary screen displays.</p>
</li>
<li>
<p>Press <strong>Enter</strong> to manually configure settings.</p>
</li>
<li>
<p>Select <strong>Configure Database</strong> from the menu.</p>
</li>
<li>
<p>You are prompted to create or fetch an encryption key.</p>
<div class="ulist">
<ul>
<li>
<p>If this is the first ManageIQ appliance, choose <strong>Create key</strong>.</p>
</li>
<li>
<p>If this is not the first ManageIQ appliance, choose <strong>Fetch key from remote machine</strong> to fetch the key from the first appliance. For worker and multi-region setups, use this option to copy key from another appliance.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All ManageIQ appliances in a multi-region deployment must use the same key.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Choose <strong>Create Internal Database</strong> for the database location.</p>
</li>
<li>
<p>Choose a disk for the database. This can be either a disk you attached previously, or a partition on the current disk.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Red Hat recommends using a separate disk for the database.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If there is an unpartitioned disk attached to the virtual machine, the dialog will show options similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1) /dev/vdb: 20480
2) Don't partition the disk</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Enter <strong>1</strong> to choose <code>/dev/vdb</code> for the database location. This option creates a logical volume using this device and mounts the volume to the appliance in a location appropriate for storing the database. The default location is <code>/var/lib/pgsql</code>, which can be found in the environment variable <code>$APPLIANCE_PG_MOUNT_POINT</code>.</p>
</li>
<li>
<p>Enter <strong>2</strong> to continue without partitioning the disk. A second prompt will confirm this choice. Selecting this option results in using the root filesystem for the data directory (not advised in most cases).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enter <strong>Y</strong> or <strong>N</strong> for <strong>Should this appliance run as a standalone database server?</strong></p>
<div class="ulist">
<ul>
<li>
<p>Select <strong>Y</strong> to configure the appliance as a database-only appliance. As a result, the appliance is configured as a basic PostgreSQL server, without a user interface.</p>
</li>
<li>
<p>Select <strong>N</strong> to configure the appliance with the full administrative user interface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>When prompted, enter a unique number to create a new region.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Creating a new region destroys any existing data on the chosen database.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create and confirm a password for the database.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>ManageIQ then configures the internal database. This takes a few minutes. After the database is created and initialized, you can log in to ManageIQ.</p>
</div>
</div>
<div class="sect3">
<h4 id="configuring-an-external-database"><a class="anchor" href="#configuring-an-external-database"></a>2.2.2. Configuring an External Database</h4>
<div class="paragraph">
<p>Based on your setup, you will choose to configure the appliance to use an external PostgreSQL database. For example, we can only have one database in a single region. However, a region can be segmented into multiple zones, such as database zone, user interface zone, and reporting zone, where each zone provides a specific function. The appliances in these zones must be configured to use an external database.</p>
</div>
<div class="paragraph">
<p>The <code>postgresql.conf</code> file used with ManageIQ databases requires specific settings for correct operation. For example, it must correctly reclaim table space, control session timeouts, and format the PostgreSQL server log for improved system support. Due to these requirements, Red Hat recommends that external ManageIQ databases use a <code>postgresql.conf</code> file based on the standard file used by the ManageIQ appliance.</p>
</div>
<div class="paragraph">
<p>Ensure you configure the settings in the <code>postgresql.conf</code> to suit your system. For example, customize the <code>shared_buffers</code> setting according to the amount of real storage available in the external system hosting the PostgreSQL instance. In addition, depending on the aggregate number of appliances expected to connect to the PostgreSQL instance, it may be
necessary to alter the <code>max_connections</code> setting.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>ManageIQ requires PostgreSQL version 9.5.</p>
</li>
<li>
<p>Because the <code>postgresql.conf</code> file controls the operation of all databases managed by a single instance of PostgreSQL, do not mix ManageIQ databases with other types of databases in a single PostgreSQL instance.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the appliance and open a terminal console.</p>
</li>
<li>
<p>After starting the appliance, log in with a user name of <code>root</code> and the default password of <code>smartvm</code>. This displays the Bash prompt for the <code>root</code> user.</p>
</li>
<li>
<p>Enter the <code>appliance_console</code> command. The ManageIQ appliance summary screen displays.</p>
</li>
<li>
<p>Press <strong>Enter</strong> to manually configure settings.</p>
</li>
<li>
<p>Select <strong>Configure Database</strong> from the menu.</p>
</li>
<li>
<p>You are prompted to create or fetch a security key.</p>
<div class="ulist">
<ul>
<li>
<p>If this is the first ManageIQ appliance, choose <strong>Create key</strong>.</p>
</li>
<li>
<p>If this is not the first ManageIQ appliance, choose <strong>Fetch key from remote machine</strong> to fetch the key from the first appliance.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All ManageIQ appliances in a multi-region deployment must use the same key.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Choose <strong>Create Region in External Database</strong> for the database location.</p>
</li>
<li>
<p>Enter the database hostname or IP address when prompted.</p>
</li>
<li>
<p>Enter the database name or leave blank for the default (<code>vmdb_production</code>).</p>
</li>
<li>
<p>Enter the database username or leave blank for the default (<code>root</code>).</p>
</li>
<li>
<p>Enter the chosen database user&#8217;s password.</p>
</li>
<li>
<p>Confirm the configuration if prompted.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>ManageIQ will then configure the external database.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuring-a-worker-appliance"><a class="anchor" href="#configuring-a-worker-appliance"></a>2.3. Configuring a Worker Appliance</h3>
<div class="paragraph">
<p>You can use multiple appliances to facilitate horizontal scaling, as well as for dividing up work by roles. Accordingly, configure an appliance to handle work for one or many roles, with workers within the appliance carrying out the duties for which they are configured. You can configure a worker appliance through the terminal. The following steps demonstrate how to join a worker appliance to an appliance that already has a region configured with a database.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the appliance and open a terminal console.</p>
</li>
<li>
<p>After starting the appliance, log in with a user name of <code>root</code> and the default password of <code>smartvm</code>. This displays the Bash prompt for the <code>root</code> user.</p>
</li>
<li>
<p>Enter the <code>appliance_console</code> command. The ManageIQ appliance summary screen displays.</p>
</li>
<li>
<p>Press <strong>Enter</strong> to manually configure settings.</p>
</li>
<li>
<p>Select <strong>Configure Database</strong> from the menu.</p>
</li>
<li>
<p>You are prompted to create or fetch a security key. Since this is not the first ManageIQ appliance, choose <strong>2) Fetch key from remote machine</strong>. For worker and multi-region setups, use this option to copy the security key from another appliance.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All ManageIQ appliances in a multi-region deployment must use the same key.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Choose <strong>Join Region in External Database</strong> for the database location.</p>
</li>
<li>
<p>Enter the database hostname or IP address when prompted.</p>
</li>
<li>
<p>Enter the port number or leave blank for the default (<code>5432</code>).</p>
</li>
<li>
<p>Enter the database name or leave blank for the default (<code>vmdb_production</code>).</p>
</li>
<li>
<p>Enter the database username or leave blank for the default (<code>root</code>).</p>
</li>
<li>
<p>Enter the chosen database user&#8217;s password.</p>
</li>
<li>
<p>Confirm the configuration if prompted.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="additional-configuration-vmware"><a class="anchor" href="#additional-configuration-vmware"></a>3. Additional Configuration for Appliances on VMware vSphere</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="installing-vmware-vddk"><a class="anchor" href="#installing-vmware-vddk"></a>3.1. Installing VMware VDDK on ManageIQ</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Execution of SmartState Analysis on virtual machines within a VMware environment requires the Virtual Disk Development Kit (VDDK). This version of ManageIQ supports VDDK versions 6.0, 6.5, and 6.7.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To install VMware VDDK:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the required VDDK version (<code>VMware-vix-disklib-[version].x86_64.tar.gz</code>) from the VMware website.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>If you do not already have a login ID to VMware, then you will need to create one. At the time of this writing, the file can be found by navigating to <span class="menuseq"><b class="menu">Downloads</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">vSphere</b></span>. Select the version from the drop-down list, then click the <strong>Drivers &amp; Tools</strong> tab. Expand <strong>Automation Tools and SDKs</strong>, and click <strong>Go to Downloads</strong> next to the <strong>VMware vSphere Virtual Disk Development Kit</strong> version. Alternatively, find the file by searching for it using the <strong>Search</strong> on the VMware site.</p>
</li>
<li>
<p>See VMware documentation for information about their policy concerning backward and forward compatibility for VDDK.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Download and copy the <code>VMware-vix-disklib-[version].x86_64.tar.gz</code> file to the <code>/root</code> directory of the appliance.</p>
</li>
<li>
<p>Start an SSH session into the appliance.</p>
</li>
<li>
<p>Extract and install the <code>VMware-vix-disklib-[version].x86_64.tar.gz</code> file using the following commands:</p>
<div class="listingblock">
<div class="content">
<pre># cd /root
# tar -xvf VMware-vix-disklib-[version].x86_64.tar.gz
# cp vmware-vix-disklib-distrib/ -rf /usr/lib/vmware-vix-disklib/
# ln -s /usr/lib/vmware-vix-disklib/lib64/libvixDiskLib.so /usr/lib/libvixDiskLib.so
# ln -s /usr/lib/vmware-vix-disklib/lib64/libvixDiskLib.so.6 /usr/lib/libvixDiskLib.so.6</pre>
</div>
</div>
</li>
<li>
<p>Run <code>ldconfig</code> to instruct ManageIQ to find the newly installed VDDK library.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Use the following command to verify the VDDK files are listed and accessible to the appliance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># ldconfig -p | grep vix</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Restart the ManageIQ appliance.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The VDDK is now installed on the ManageIQ appliance. This enables use of the SmartState Analysis server role on the appliance.</p>
</div>
</div>
<div class="sect2">
<h3 id="appliance-tuning-vmware"><a class="anchor" href="#appliance-tuning-vmware"></a>3.2. Tuning Appliance Performance</h3>
<div class="paragraph">
<p>By default, the ManageIQ appliance uses the <code>tuned</code> service and its <code>virtual-guest</code> profile to optimize performance. In most cases, this profile provides the best performance for the appliance.</p>
</div>
<div class="paragraph">
<p>However on some VMware setups (for example, with a large vCenter database), the following additional tuning may further improve appliance performance:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When using the <code>virtual-guest</code> profile in <code>tuned</code>, edit the <code>vm.swappiness</code> setting to <code>1</code> in the <code>tuned.conf</code> file from the default of <code>vm.swappiness = 30</code>.</p>
</li>
<li>
<p>Use the <code>noop</code> scheduler instead. See the <a href="https://kb.vmware.com/s/article/2011861">VMware documentation</a> for more details on the best scheduler for your environment. See <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/performance_tuning_guide/sect-red_hat_enterprise_linux-performance_tuning_guide-storage_and_file_systems-configuration_tools#sect-Red_Hat_Enterprise_Linux-Performance_Tuning_Guide-Configuration_tools-Setting_the_default_IO_scheduler">Setting the Default I/O Scheduler</a> in the Red Hat Enterprise Linux <em>Performance Tuning Guide</em> for instructions on changing the default I/O scheduler.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="initial-login"><a class="anchor" href="#initial-login"></a>4. Logging In After Installing ManageIQ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once ManageIQ is installed, you can log in and perform administration tasks.</p>
</div>
<div class="paragraph">
<p>Log in to ManageIQ for the first time after installing by:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the URL for the login screen. (<a href="https://xx.xx.xx.xx" class="bare">https://xx.xx.xx.xx</a> on the virtual machine instance)</p>
</li>
<li>
<p>Enter the default credentials (Username: <strong>admin</strong> | Password: <strong>smartvm</strong>) for the initial login.</p>
</li>
<li>
<p>Click <strong>Login</strong>.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="changing-the-default-login-password"><a class="anchor" href="#changing-the-default-login-password"></a>4.1. Changing the Default Login Password</h3>
<div class="paragraph">
<p>Change your password to ensure more private and secure access to ManageIQ.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the URL for the login screen. (<a href="https://xx.xx.xx.xx" class="bare">https://xx.xx.xx.xx</a> on the virtual machine instance)</p>
</li>
<li>
<p>Click <strong>Update Password</strong> beneath the <strong>Username</strong> and <strong>Password</strong> text fields.</p>
</li>
<li>
<p>Enter your current <strong>Username</strong> and <strong>Password</strong> in the text fields.</p>
</li>
<li>
<p>Input a new password in the <strong>New Password</strong> field.</p>
</li>
<li>
<p>Repeat your new password in the <strong>Verify Password</strong> field.</p>
</li>
<li>
<p>Click <strong>Login</strong>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
      </div>
    </article>
  </div>
</div>

    </main>

    <footer class="site-footer">
  <div class="footer-row" id="footer_top">
    <div class="footer-group">
      <img class="footer-logo" src="/assets/images/manageiq-glyph-inverse.svg" alt="ManageIQ">
      <ul class="site_nav">
  <li >
    <a href="/download/">Download</a>
  </li>
  <li >
    <a href="/docs/">Documentation</a>
  </li>
  <li >
    <a href="/community/">Community</a>
  </li>
  <li >
    <a href="/blog/">Blog</a>
  </li>
</ul>

    </div>


    <ul class="contact_menu">
      <li>
        <a href="https://github.com/ManageIQ/">
          <i class="fa fa-github"></i>
          Github
        </a>
      </li>
      <li>
        <a href="https://gitter.im/ManageIQ/manageiq">
          <i class="fa fa-gitter">
            <svg viewBox="45 47 78 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 40.1 (33804) - http://www.bohemiancoding.com/sketch -->
    <desc>Created with Sketch.</desc>
    <defs></defs>
    <g id="Artboard" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(45.000000, 47.000000)">
        <g id="icon-gitter" transform="translate(10.000000, 0.000000)">
            <rect id="Rectangle-path" x="0" y="0.5" width="8.25" height="61"></rect>
            <rect id="Rectangle-path" x="49.75" y="14.5" width="8.25" height="47"></rect>
            <rect id="Rectangle-path" x="16.5" y="14.5" width="8.25" height="80.25"></rect>
            <rect id="Rectangle-path" x="33.25" y="14.5" width="8.25" height="80.25"></rect>
        </g>
    </g>
</svg>

          </i>
          Gitter
        </a>
      </li>
      <li>
        <a href="http://talk.manageiq.org/">
          <i class="fa fa-comments"></i>
          Forum
        </a>
      </li>
    </ul>
  </div>

  <div class="footer-row" id="footer_bottom">
    <div class="footer-legal">
      <span class="copyright">
        &copy; 2020 ManageIQ.
      </span>
      <span>
        <a href="http://community.redhat.com/software/" target="_blank">
          Sponsored by Red Hat, Inc.
        </a>
      </span>
      <span>
        <a href="/logo/" class="footer-link">Logo</a>
      </span>
      <span>
        <a href="/security/" class="footer-link">Security</a>
      </span>
      <span>
        <a href="/legal/" class="footer-link">Legal &amp; Privacy</a>
      </span>
    </div>

    <div class="footer-social">
      <ul class="social_menu">
        <li>
          <a href="https://twitter.com/ManageIQ" class="social_link social_link-twitter">
            <i class="fa fa-twitter"></i>
          </a>
        </li>

        <li>
          <a href="https://www.facebook.com/manageiq/" class="social_link social_link-facebook">
            <span class="social_link-icon">
              <i class="fa fa-facebook"></i>
            </span>
          </a>
        </li>

        <!--  -->
        <li>
          <a href="https://www.linkedin.com/company/manageiq" class="social_link social_link-linkedin">
            <span class="social_link-icon">
              <i class="fa fa-linkedin"></i>
            </span>
          </a>
        </li>

        <li>
          <a href="https://www.youtube.com/user/ManageIQVideo" class="social_link social_link-youtube">
            <span class="social_link-icon">
              <i class="fa fa-youtube"></i>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</footer>

    <div id="lightbox">
  <header class="lightbox-header">
    <div class="lightbox-title"></div>
    <div class="lightbox-close">
      <span class="fa fa-times"></span>
    </div>
  </header>

  <div class="lightbox-image">
    <img src="" alt="">
  </div>
</div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="/assets/js/main.js" charset="utf-8"></script>
    
  </body>
</html>
