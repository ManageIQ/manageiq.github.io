<!DOCTYPE html>
<html>

  <head>
  <!DOCTYPE html>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>ManageIQ</title>
  <meta name="description" content="">
  <meta property="og:image" content="http://manageiq.org/assets/images/logo/manageiq-logo-blue.png" />

  <script>
    stored_theme = localStorage.getItem('miq-theme');
    theme        = stored_theme && JSON.parse(localStorage.getItem('miq-theme'));

    if (theme === "light-theme") {
      document.querySelector('html').classList.add("light-theme");
    }

    if (theme === "dark-theme") {
      document.querySelector('html').classList.add("dark-theme");
    }
  </script>

  <link type="text/css" rel="stylesheet" href="/assets/main-72fb4f5b36dd952a472e11bcb9bd0033f67ce60d480cf7fbdcd084f2c00fa845.css">
  <link rel="canonical" href="http://manageiq.org/docs/reference/latest/managing_providers/cloud_providers/openstack_providers.html">
  <link rel="alternate" type="application/rss+xml" title="ManageIQ" href="http://manageiq.org/feed.xml">

  <link href="/assets/images/favicon.ico" rel="shortcut icon">
</head>


  <body>
    <header class="site-header">
  <a href="/" class="brand">
    <span class="brand-name">ManageIQ</span>
    <img class="brand-logo" src="/assets/images/manageiq-logo-inverse.svg" alt="ManageIQ Logo">
  </a>

  <div id="site_header-nav_toggle">
    <a href="#" class="off_canvas-show" data-behavior="off_canvas-toggle">
      <i class="fa fa-bars"></i>
    </a>
  </div>

  <div class="off_canvas">
    <header class="off_canvas-header">
      <a href="#" class="off_canvas-hide" data-behavior="off_canvas-toggle">
        <i class="fa fa-times"></i>
      </a>
    </header>

    <ul class="site_nav">
  <li >
    <a href="/download/">Download</a>
  </li>
  <li >
    <a href="/docs/">Documentation</a>
  </li>
  <li >
    <a href="/community/">Community</a>
  </li>
  <li >
    <a href="/blog/">Blog</a>
  </li>
  <li>
    <button class="fa theme-toggle" data-toggle-theme></i>
  </li>
</ul>

  </div>
</header>


    <main data-url="/docs/reference/najdorf/managing_providers/cloud_providers/openstack_providers">
      <nav class="doc_tabs">
  <ul>
  <li>
    <a href="/docs/get-started/">Get Started</a>
  </li>
  <li class="active">
    <a href="/docs/reference/">User Reference</a>
  </li>
  <li>
    <a href="/docs/automation">
      Automation Book
    </a>
  </li>
  <li>
    <a href="/docs/api">
      API Docs
    </a>
  </li>
  <li>
    <a href="/docs/guides/README">Developer Guides</a>
  </li>
</ul>

    <div class="col-lg-4 col-md-4 col-sm-12 pull-right" style="margin-top: 10px">
        <script async src="https://cse.google.com/cse.js?cx=006042792541147862616:dfkijfebdts"></script>
         <div class="gcse-search"></div>
    </div>
</nav>

<script>
  window.onload = demo;
	function demo() {
	    document.getElementById("gsc-i-id1").setAttribute("placeholder", "Search Documentation")
	}
</script>

<div class="doc_container">
  <div class="doc_menu">
    
    

<div class="doc_menu-heading">
  Najdorf
</div>

<ul class="menu menu-toplevel" id=ref_menu_najdorf>


  <li class="menu-parent">
    
    <a href="#">
      Installation
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/installing_on_aws/index.html">
      Amazon Web Services (AWS)
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/installing_on_kubernetes/index.html">
      Kubernetes
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/installing_on_ibm_cloud/index.html">
      IBM Cloud
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/installing_on_microsoft_azure/index.html">
      Microsoft Azure
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/installing_on_google_compute_engine/index.html">
      Google Compute Engine
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/installing_on_vmware_vsphere/index.html">
      VMware vSphere
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/installing_on_red_hat_enterprise_linux_openstack_platform/index.html">
      Red Hat Enterprise OpenStack Platform
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/installing_on_red_hat_virtualization/index.html">
      Red Hat Enterprise Virtualization
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/installing_on_scvmm/index.html">
      Microsoft System Center Virtual Machine Manager (SCVMM)
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Upgrading
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/upgrading_appliances/index.html">
      Appliances
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Configuration
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/deployment_planning_guide/index.html">
      Deployment Planning Guide
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/general_configuration/index.html">
      General Configuration
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/high_availability_guide/index.html">
      High Availability Guide
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/appliance_hardening_guide/index.html">
      Appliance Hardening Guide
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Administration
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/monitoring_alerts_and_reporting/index.html">
      Monitoring, Alerts, and Reporting
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/policies_and_profiles_guide/index.html">
      Policies and Profiles Guide
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_infrastructure_and_inventory/index.html">
      Managing Infrastructure and Inventory
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item menu-parent">
    <a href="#">
      Managing Providers
    </a>
    
    <ul>
      



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/index.html">
      Overview
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item menu-parent">
    <a href="#">
      Infrastructure Providers
    </a>
    
    <ul>
      



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/infrastructure_providers/red_hat_virtualization_providers.html">
      Red Hat Virtualization Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/infrastructure_providers/openstack_infrastructure_providers.html">
      OpenStack Infrastructure Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/infrastructure_providers/vmware_vcenter_providers.html">
      VMware vCenter Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/infrastructure_providers/microsoft_scvmm_providers.html">
      Microsoft SCVMM Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/infrastructure_providers/ibm_power_hmc_providers.html">
      IBM Power HMC Providers
    </a>
    
  </li>


    </ul>
    
  </li>

  
  
  
  <li class="doc_menu-item menu-parent">
    <a href="#">
      Configuration Providers
    </a>
    
    <ul>
      



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/configuration_management_providers/ibm_terraform_provider.html">
      IBM Terraform Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/configuration_management_providers/red_hat_satellite_6.html">
      Red Hat Satellite 6 Providers
    </a>
    
  </li>


    </ul>
    
  </li>

  
  
  
  <li class="doc_menu-item menu-parent">
    <a href="#">
      Cloud Providers
    </a>
    
    <ul>
      



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/cloud_providers/azure_providers.html">
      Azure Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/cloud_providers/amazon_ec2_providers.html">
      Amazon EC2 Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/cloud_providers/google_compute_engine_providers.html">
      Google Compute Engine Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/cloud_providers/ibm_cloud_vpc_providers.html">
      IBM Cloud VPC Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/cloud_providers/ibm_power_systems_virtual_servers_providers.html">
      IBM Power Systems Virtual Servers Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/cloud_providers/ibm_power_vc_providers.html">
      IBM PowerVC Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item active">
    <a href="/docs/reference/najdorf/managing_providers/cloud_providers/openstack_providers.html">
      OpenStack Providers
    </a>
    
  </li>


    </ul>
    
  </li>

  
  
  
  <li class="doc_menu-item menu-parent">
    <a href="#">
      Container Providers
    </a>
    
    <ul>
      



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/containers_providers/azure_kubernetes_providers.html">
      Azure Kubernetes Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/containers_providers/red_hat_openshift_providers.html">
      Red Hat OpenShift Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/containers_providers/ibm_cloud_kubernetes_service_providers.html">
      IBM Cloud Kubernetes Service Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/containers_providers/oracle_kubernetes_engine_providers.html">
      Oracle Kubernetes Engine Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/containers_providers/vmware_tanzu_providers.html">
      VMware Tanzu Providers
    </a>
    
  </li>


    </ul>
    
  </li>

  
  
  
  <li class="doc_menu-item menu-parent">
    <a href="#">
      Storage Providers
    </a>
    
    <ul>
      



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/storage_providers/amazon_ebs_managers.html">
      Amazon Elastic Block Store Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/storage_providers/openstack_block_storage_managers.html">
      OpenStack Block Storage Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/storage_providers/openstack_object_storage_managers.html">
      OpenStack Object Storage Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/managing_providers/storage_providers/ibm_cloud_object_storage_managers.html">
      IBM Cloud Object Storage Providers
    </a>
    
  </li>


    </ul>
    
  </li>


    </ul>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/provisioning_virtual_machines_and_hosts/index.html">
      Provisioning Virtual Machines and Hosts
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/scripting_actions/index.html">
      Scripting Actions in ManageIQ
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Authentication
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/auth/active_directory.html">
      Active Directory
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/auth/ipa_2fa.html">
      2-Factor-Authentication with IPA
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/auth/ipa_ad_trust.html">
      IPA/AD Trust
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/auth/ldap.html">
      LDAP
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/auth/saml.html">
      SAML
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/auth/openid_connect.html">
      OpenID-Connect
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Integration
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/integration_with_aws_cloudformation_and_openstack_heat/index.html">
      AWS CloudFormation and OpenStack Heat
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/integration_with_servicenow/index.html">
      ServiceNow
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Reference
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/capabilities_matrix/index.html">
      Capabilities Matrix
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/api">
      ManageIQ REST API
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/najdorf/methods_available_for_automation/index.html">
      Methods Available for Automation
    </a>
    
  </li>


      </ul>
    
  </li>

</ul>

    
  </div>
  <div class="doc_main">
    <article class="doc user_doc">
      

      <div class="doc-content">
        
        <div class="doc-versions">
          <span class="label">Versions: </span>
          
            <span>
              <a href="/docs/reference/latest/managing_providers/cloud_providers/openstack_providers.html">
                Latest
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="/docs/reference/oparin/managing_providers/cloud_providers/openstack_providers.html">
                Oparin
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span class="active" >
              <a href="/docs/reference/najdorf/managing_providers/cloud_providers/openstack_providers.html">
                Najdorf
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="">
                Morphy
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="">
                Lasker
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="">
                Kasparov
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="">
                Jansa
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="">
                Ivanchuk
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="">
                Hammer
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="">
                Gaprindashvili
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="">
                Fine
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="">
                Euwe
              </a>
            </span>
            
          
        </div>
        
        <ul id="toc" class="section-nav">
<li class="toc-entry toc-h1"><a href="#openstack-providers">OpenStack Providers</a>
<ul>
<li class="toc-entry toc-h2"><a href="#adding-openstack-providers">Adding OpenStack Providers</a></li>
<li class="toc-entry toc-h2"><a href="#configuring-the-overcloud-to-store-events">Configuring the Overcloud to Store Events</a></li>
</ul>
</li>
</ul><h1 id="openstack-providers">
<a class="anchor" href="#openstack-providers" aria-hidden="true"><span class="octicon octicon-link"></span></a>OpenStack Providers</h1>

<h2 id="adding-openstack-providers">
<a class="anchor" href="#adding-openstack-providers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Adding OpenStack Providers</h2>

<p>ManageIQ supports operating with the OpenStack <code class="language-plaintext highlighter-rouge">admin</code> tenant.
When creating an OpenStack provider in ManageIQ, select the
OpenStack provider’s <code class="language-plaintext highlighter-rouge">admin</code> user because it is the default
administrator of the OpenStack <code class="language-plaintext highlighter-rouge">admin</code> tenant. When using the <code class="language-plaintext highlighter-rouge">admin</code>
credentials, a user in ManageIQ provisions into the <code class="language-plaintext highlighter-rouge">admin</code>
tenant, and sees images, networks, and instances that are associated
with the <code class="language-plaintext highlighter-rouge">admin</code> tenant.</p>

<p><strong>Note:</strong></p>

<p>In OpenStack, you must add <code class="language-plaintext highlighter-rouge">admin</code> as a member of all tenants that users want to access and use in ManageIQ.</p>

<p>See <a href="../managing_infrastructure_and_inventory/index.html#cloud-tenants">Cloud Tenants</a> in <em>Managing Infrastructure and Inventory</em> for information on working with OpenStack tenants (projects) in ManageIQ.</p>

<p>When adding an OpenStack cloud or infrastructure provider, enable
<em>tenant mapping</em> in ManageIQ to map any existing tenants
from that provider.</p>

<p>This means ManageIQ will create new cloud tenants to match
each existing OpenStack tenant; each new cloud tenant and its
corresponding OpenStack tenant will have identical resource assignments
(including user and role synchronization) with the exception of quotas.
Tenant quotas are not synchronized between ManageIQ and
OpenStack, and are available for reporting purposes only. You can manage
quotas in ManageIQ but this will not affect the quotas
created in OpenStack.</p>

<p>During a provider refresh, ManageIQ will also check for
any changes to the tenant list in OpenStack. ManageIQ will
create new cloud tenants to match any new tenants, and delete any cloud
tenants whose corresponding OpenStack tenants no longer exist.
ManageIQ will also replicate any changes to OpenStack
tenants to their corresponding cloud tenants.</p>

<p>If you leave tenant mapping disabled, ManageIQ will not
create cloud tenants or tenant object hierarchy from OpenStack.</p>

<p><strong>Note:</strong></p>

<p>You can set whether ManageIQ should use the Telemetry service or Advanced Message Queueing Protocol (AMQP) for event monitoring. If you choose Telemetry, you should first configure the <strong>ceilometer</strong> service on the overcloud to store events. See <a href="../managing_providers/index.html#configuring-the-overcloud-to-store-events">Configuring the Overcloud to Store Events</a> for instructions.</p>

<p>For more information, see <a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/11/html/architecture_guide/components#comp-telemetry" target="_blank">OpenStack Telemetry
(ceilometer)</a> in the Red Hat OpenStack Platform <em>Architecture Guide</em>.</p>

<p><strong>Note:</strong></p>

<p>To authenticate the provider using a self-signed Certificate Authority (CA), configure the ManageIQ appliance to trust the certificate using the steps in <a href="#app-self_signed_CA">Using a Self-Signed CA Certificate</a> before adding the provider.</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Compute &gt; Clouds &gt; Providers</strong>.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, then click
<img src="../images/1862.png" alt="1862"> (<strong>Add a New Cloud Provider</strong>).</p>
  </li>
  <li>
    <p>From the <strong>Type</strong> list, select <strong>OpenStack</strong>.</p>
  </li>
  <li>
    <p>Enter a <strong>Name</strong> for the provider.</p>
  </li>
  <li>
    <p>Select the appropriate <strong>Zone</strong> for the provider. By default, the
zone is set to <strong>default</strong>.</p>

    <p><strong>Note:</strong></p>

    <p>For more information, see the definition of host aggregates and availability zones in <a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/11/html/architecture_guide/components#comp-compute">OpenStack Compute (nova)</a> in the Red Hat OpenStack Platform <em>Architecture Guide</em>.</p>
  </li>
  <li>
    <p>Enter the OpenStack region in <strong>Provider Region</strong>.</p>
  </li>
  <li>
    <p>(Optional) Select an associated <strong>Openstack Infra Provider</strong></p>
  </li>
  <li>
    <p>Select the appropriate <strong>API Version</strong> from the list. The default is
<code class="language-plaintext highlighter-rouge">Keystone v2</code>.</p>

    <p>If you select <code class="language-plaintext highlighter-rouge">Keystone v3</code>, enter the <code class="language-plaintext highlighter-rouge">Keystone V3 Domain ID</code> that
ManageIQ should use. This is the domain of the user account
you will be specifying later in the <strong>Default</strong> tab. If domains are
not configured in the provider, enter <strong>default</strong>.</p>

    <p><strong>Note:</strong></p>

    <p>Keystone API v3 is required to create cloud tenants on OpenStack
cloud providers.</p>

    <p><strong>Note:</strong></p>

    <ul>
      <li>With Keystone API v3, domains are used to determine administrative
boundaries of service entities in OpenStack. Domains allow you to
group users together for various purposes, such as setting
domain-specific configuration or security options. For more
information, see <a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/11/html-single/architecture_guide/#comp-identity">OpenStack Identity
(keystone)</a>
in the Red Hat OpenStack Platform <em>Architecture Guide</em>.</li>
    </ul>
  </li>
</ol>

<ul>
  <li>The provider you are creating will be able to see projects for the
given domain only. To see projects for other domains, add it as
another cloud provider. For more information on domain management in
OpenStack, see <a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/11/html-single/users_and_identity_management_guide/#Domains">Domain
Management</a>
in the Red Hat OpenStack Platform <em>Users and Identity Management
Guide</em>.</li>
</ul>

<ol>
  <li>
    <p>(Optional) Enable tenant mapping by toggling the <strong>Tenant Mapping
Enabled</strong> option to <strong>Yes</strong>. This synchronizes resources and users
between the OpenStack cloud provider and ManageIQ. By
default, tenant mapping is disabled.</p>
  </li>
  <li>
    <p>In the <strong>Default</strong> tab, under <strong>Endpoints</strong>, configure the host and authentication details of your OpenStack provider:</p>

    <ol>
      <li>
        <p>Select a <strong>Security Protocol</strong> method to specify how to authenticate the provider:</p>

        <ul>
          <li>
            <p><strong>SSL without validation</strong>: Authenticate the provider insecurely using SSL.</p>
          </li>
          <li>
            <p><strong>SSL</strong>: Authenticate the provider securely using a trusted Certificate Authority. Select this option if the provider has a valid SSL certificate and it is signed by a trusted
Certificate Authority. No further configuration is required for this option. This is the recommended authentication
method.</p>
          </li>
          <li>
            <p><strong>Non-SSL</strong>: Connect to the provider insecurely using only
HTTP protocol, without SSL.</p>
          </li>
        </ul>
      </li>
      <li>
        <p>In <strong>Hostname (or IPv4 or IPv6 address)</strong>, enter the public IP
or fully qualified domain name of the OpenStack Keystone
service.</p>

        <p><strong>Note:</strong></p>

        <p>The hostname required here is also the <strong>OS_AUTH_URL</strong> value in the <strong>~/overcloudrc</strong> file generated by the director (see <a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/11/html-single/director_installation_and_usage/#sect-Accessing_the_Overcloud">Accessing the Overcloud</a> in Red Hat OpenStack Platform <em>Director Installation and Usage</em>), or the <strong>~/keystonerc_admin</strong> file generated by Packstack (see <a href="https://access.redhat.com/articles/1127153">Evaluating OpenStack: Single-Node Deployment</a>).</p>
      </li>
      <li>
        <p>In <strong>API Port</strong>, set the public port used by the OpenStack
Keystone service. By default, OpenStack uses port 5000 for
non-SSL security protocol. For SSL, API port is 13000 by
default.</p>
      </li>
      <li>
        <p>In the <strong>Username</strong> field, enter the name of a user in the
OpenStack environment.</p>

        <div class="important">

In environments that use Keystone v3 authentication, the user
must have the **admin** role for the relevant domain.

</div>
      </li>
      <li>
        <p>In the <strong>Password</strong> field, enter the password for the user.</p>
      </li>
      <li>
        <p>Click <strong>Validate</strong> to confirm ManageIQ can connect to the
OpenStack provider.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Next, configure how ManageIQ should receive events from the
OpenStack provider. Click the <strong>Events</strong> tab in the <strong>Endpoints</strong>
section to start.</p>

    <ul>
      <li>
        <p>To use the Telemetry service of the OpenStack provider, select <strong>Ceilometer</strong>. Before you do so, the provider must first be configured accordingly. See <a href="../managing_providers/index.html#configuring-the-overcloud-to-store-events">Configuring the Overcloud to Store Events</a> for details.</p>
      </li>
      <li>
        <p>If you prefer to use the AMQP Messaging bus instead, or eventing
is not enabled on Ceilometer, select <strong>AMQP</strong> and configure the
following:</p>

        <ol>
          <li>
            <p>Select a <strong>Security Protocol</strong> method.</p>
          </li>
          <li>
            <p>In <strong>Hostname (or IPv4 or IPv6 address)</strong> (of the <strong>Events</strong>
tab, under <strong>Endpoints</strong>), enter the public IP or fully
qualified domain name of the AMQP host.</p>
          </li>
          <li>
            <p>In the <strong>API Port</strong>, set the public port used by AMQP. By
default, OpenStack uses port 5672 for this.</p>
          </li>
          <li>
            <p>In the <strong>Username</strong> field, enter the name of an OpenStack
user with privileged access (for example, <strong>admin</strong>). Then,
provide its corresponding password in the <strong>Password</strong>
field.</p>
          </li>
          <li>
            <p>Click <strong>Validate</strong> to confirm the credentials.</p>
          </li>
        </ol>
      </li>
    </ul>
  </li>
  <li>
    <p>Click <strong>Add</strong> after configuring the cloud provider.</p>
  </li>
</ol>

<p><strong>Note:</strong></p>

<ul>
  <li>
    <p>To collect inventory and metrics from an OpenStack environment, the
ManageIQ appliance requires that the adminURL endpoint for
the OpenStack environment be on a non-private network. Hence, the
OpenStack adminURL endpoint should be assigned an IP address other
than <code class="language-plaintext highlighter-rouge">192.168.x.x</code>. Additionally, all the Keystone endpoints must be
accessible, otherwise refresh will fail.</p>
  </li>
  <li>
    <p>Collecting capacity and utilization data from an OpenStack cloud provider requires selecting the <strong>Collect for All Clusters</strong> option under <strong>Configuration</strong>, in the settings menu. For information, see <a href="../general_configuration/index.html#capacity-and-utilization-collection">Capacity and Utilization Collections</a> in the <em>General Configuration Guide</em>.</p>
  </li>
</ul>

<h2 id="configuring-the-overcloud-to-store-events">
<a class="anchor" href="#configuring-the-overcloud-to-store-events" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuring the Overcloud to Store Events</h2>

<p>By default, the Telemetry service does not store events emitted by other
services in a Red Hat OpenStack Platform environment. The following
procedure outlines how to enable the Telemetry service on your OpenStack
cloud provider to store such events. This ensures that events are
exposed to ManageIQ when a Red Hat OpenStack Platform environment
is added as a cloud provider.</p>

<ol>
  <li>
    <p>Log in to the undercloud host.</p>
  </li>
  <li>
    <p>Create an environment file called <em>ceilometer.yaml</em>, and add the
following contents:</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>parameter_defaults:
  CeilometerStoreEvents: true
</code></pre></div>    </div>
  </li>
  <li>
    <p>Please see the below <strong>NOTE</strong>.</p>
  </li>
</ol>

<p>If your OpenStack cloud provider was not deployed through the
undercloud, you can also set this manually. To do so:</p>

<ol>
  <li>
    <p>Log in to your Controller node.</p>
  </li>
  <li>
    <p>Edit <em>/etc/ceilometer/ceilometer.conf</em>, and specify the following
option:</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>store_events = True
</code></pre></div>    </div>
  </li>
</ol>

<p><strong>Note:</strong></p>

<p>Passing the newly created environment file to the overcloud deployment is environment specific and requires executing commands in particular order depending on use of variables. For further information please see
<a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/11/html/director_installation_and_usage/"><em>Director Installation and Usage</em></a>
in the Red Hat OpenStack Platform documentation.</p>



      </div>
    </article>
  </div>
</div>

    </main>

    <footer class="site-footer">
  <div class="footer-row" id="footer_top">
    <div class="footer-group">
      <img class="footer-logo" src="/assets/images/manageiq-glyph-inverse.svg" alt="ManageIQ">
      <ul class="site_nav">
  <li >
    <a href="/download/">Download</a>
  </li>
  <li >
    <a href="/docs/">Documentation</a>
  </li>
  <li >
    <a href="/community/">Community</a>
  </li>
  <li >
    <a href="/blog/">Blog</a>
  </li>
  <li>
    <button class="fa theme-toggle" data-toggle-theme></i>
  </li>
</ul>

    </div>


    <ul class="contact_menu">
      <li>
        <a href="https://github.com/ManageIQ/">
          <i class="fa fa-github"></i>
          Github
        </a>
      </li>
      <li>
        <a href="https://gitter.im/ManageIQ/manageiq">
          <i class="fa fa-gitter">
            <svg viewBox="45 47 78 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 40.1 (33804) - http://www.bohemiancoding.com/sketch -->
    <desc>Created with Sketch.</desc>
    <defs></defs>
    <g id="Artboard" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(45.000000, 47.000000)">
        <g id="icon-gitter" transform="translate(10.000000, 0.000000)">
            <rect id="Rectangle-path" x="0" y="0.5" width="8.25" height="61"></rect>
            <rect id="Rectangle-path" x="49.75" y="14.5" width="8.25" height="47"></rect>
            <rect id="Rectangle-path" x="16.5" y="14.5" width="8.25" height="80.25"></rect>
            <rect id="Rectangle-path" x="33.25" y="14.5" width="8.25" height="80.25"></rect>
        </g>
    </g>
</svg>

          </i>
          Gitter
        </a>
      </li>
      <li>
        <a href="http://talk.manageiq.org/">
          <i class="fa fa-comments"></i>
          Forum
        </a>
      </li>
      
    </ul>
  </div>

  <div class="footer-row" id="footer_bottom">
    <div class="footer-legal">
      <span class="copyright">
        &copy; 2023 ManageIQ.
      </span>
      <span>
        <a href="http://community.redhat.com/software/" target="_blank">
          Sponsored by Red Hat, Inc.
        </a>
      </span>
      <span>
        <a href="/logo/" class="footer-link">Logo</a>
      </span>
      <span>
        <a href="/security/" class="footer-link">Security</a>
      </span>
      <span>
        <a href="/legal/" class="footer-link">Legal &amp; Privacy</a>
      </span>
    </div>

    <div class="footer-social">
      <ul class="social_menu">
        <li>
          <a href="https://twitter.com/ManageIQ" class="social_link social_link-twitter">
            <i class="fa fa-twitter"></i>
          </a>
        </li>

        <li>
          <a href="https://www.facebook.com/manageiq/" class="social_link social_link-facebook">
            <span class="social_link-icon">
              <i class="fa fa-facebook"></i>
            </span>
          </a>
        </li>

        <!--  -->
        <li>
          <a href="https://www.linkedin.com/company/manageiq" class="social_link social_link-linkedin">
            <span class="social_link-icon">
              <i class="fa fa-linkedin"></i>
            </span>
          </a>
        </li>

        <li>
          <a href="https://www.youtube.com/user/ManageIQVideo" class="social_link social_link-youtube">
            <span class="social_link-icon">
              <i class="fa fa-youtube"></i>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</footer>

    <div id="lightbox">
  <header class="lightbox-header">
    <div class="lightbox-title"></div>
    <div class="lightbox-close">
      <span class="fa fa-times"></span>
    </div>
  </header>

  <div class="lightbox-image">
    <img src="" alt="">
  </div>
</div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="/assets/js/main.js" charset="utf-8"></script>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58883457-1', 'auto');
  ga('send', 'pageview');

</script>
    
  </body>
</html>
